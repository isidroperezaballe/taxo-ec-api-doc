<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Taxo Impuestos API - Documentaci√≥n</title>

    <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../docs/css/theme-default.style.css" media="screen">
    <link rel="stylesheet" href="../docs/css/theme-default.print.css" media="print">

    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js"></script>

    <link rel="stylesheet"
          href="https://unpkg.com/@highlightjs/cdn-assets@11.6.0/styles/obsidian.min.css">
    <script src="https://unpkg.com/@highlightjs/cdn-assets@11.6.0/highlight.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jets/0.14.1/jets.min.js"></script>

    <style id="language-style">
        /* starts out as display none and is replaced with js later  */
                    body .content .bash-example code { display: none; }
                    body .content .javascript-example code { display: none; }
                    body .content .php-example code { display: none; }
                    body .content .python-example code { display: none; }
            </style>

    <script>
        var tryItOutBaseUrl = "https://ec-demo.taxo.co";
        var useCsrf = Boolean();
        var csrfUrl = "/sanctum/csrf-cookie";
    </script>
    <script src="../docs/js/tryitout-5.6.0.js"></script>

    <script src="../docs/js/theme-default-5.6.0.js"></script>

</head>

<body data-languages="[&quot;bash&quot;,&quot;javascript&quot;,&quot;php&quot;,&quot;python&quot;]">

<a href="#" id="nav-button">
    <span>
        MENU
        <img src="../docs/images/navbar.png" alt="navbar-image"/>
    </span>
</a>
<div class="tocify-wrapper">
    
            <div class="lang-selector">
                                            <button type="button" class="lang-button" data-language-name="bash">bash</button>
                                            <button type="button" class="lang-button" data-language-name="javascript">javascript</button>
                                            <button type="button" class="lang-button" data-language-name="php">php</button>
                                            <button type="button" class="lang-button" data-language-name="python">python</button>
                    </div>
    
    <div class="search">
        <input type="text" class="search" id="input-search" placeholder="Search">
    </div>

    <div id="toc">
                    <ul id="tocify-header-introduction" class="tocify-header">
                <li class="tocify-item level-1" data-unique="introduction">
                    <a href="#introduction">Introduction</a>
                </li>
                            </ul>
                    <ul id="tocify-header-authenticating-requests" class="tocify-header">
                <li class="tocify-item level-1" data-unique="authenticating-requests">
                    <a href="#authenticating-requests">Authenticating requests</a>
                </li>
                            </ul>
                    <ul id="tocify-header-taxpayers" class="tocify-header">
                <li class="tocify-item level-1" data-unique="taxpayers">
                    <a href="#taxpayers">Taxpayers</a>
                </li>
                                    <ul id="tocify-subheader-taxpayers" class="tocify-subheader">
                                                    <li class="tocify-item level-2" data-unique="taxpayers-GETapi-v1-taxpayers">
                                <a href="#taxpayers-GETapi-v1-taxpayers">List taxpayers</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="taxpayers-POSTapi-v1-taxpayers">
                                <a href="#taxpayers-POSTapi-v1-taxpayers">Create a new taxpayer</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="taxpayers-GETapi-v1-taxpayers--taxNumber-">
                                <a href="#taxpayers-GETapi-v1-taxpayers--taxNumber-">Get a specific taxpayer</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="taxpayers-GETapi-v1-taxpayers--taxNumber--categories">
                                <a href="#taxpayers-GETapi-v1-taxpayers--taxNumber--categories">Get taxpayer categories</a>
                            </li>
                                                                        </ul>
                            </ul>
                    <ul id="tocify-header-iva-reports" class="tocify-header">
                <li class="tocify-item level-1" data-unique="iva-reports">
                    <a href="#iva-reports">IVA Reports</a>
                </li>
                                    <ul id="tocify-subheader-iva-reports" class="tocify-subheader">
                                                    <li class="tocify-item level-2" data-unique="iva-reports-GETapi-v1-taxpayers--taxNumber--iva-reports">
                                <a href="#iva-reports-GETapi-v1-taxpayers--taxNumber--iva-reports">List IVA reports for a taxpayer</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="iva-reports-POSTapi-v1-taxpayers--taxNumber--iva-reports">
                                <a href="#iva-reports-POSTapi-v1-taxpayers--taxNumber--iva-reports">Create a new IVA report</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="iva-reports-GETapi-v1-taxpayers--taxNumber--iva-reports--period-">
                                <a href="#iva-reports-GETapi-v1-taxpayers--taxNumber--iva-reports--period-">Get a specific IVA report</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="iva-reports-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate">
                                <a href="#iva-reports-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate">Recalculate IVA report (Update Report)</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="iva-reports-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save">
                                <a href="#iva-reports-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save">Save IVA report</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="iva-reports-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve">
                                <a href="#iva-reports-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve">Approve IVA report</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="iva-reports-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject">
                                <a href="#iva-reports-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject">Reject IVA report</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="iva-reports-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared">
                                <a href="#iva-reports-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared">Mark report as declared</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="iva-reports-POSTapi-v1-taxpayers--taxNumber--iva-reports-send">
                                <a href="#iva-reports-POSTapi-v1-taxpayers--taxNumber--iva-reports-send">Send IVA report via email</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="iva-reports-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft">
                                <a href="#iva-reports-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft">Send report to SRI draft</a>
                            </li>
                                                                        </ul>
                            </ul>
                    <ul id="tocify-header-received-documents" class="tocify-header">
                <li class="tocify-item level-1" data-unique="received-documents">
                    <a href="#received-documents">Received Documents</a>
                </li>
                                    <ul id="tocify-subheader-received-documents" class="tocify-subheader">
                                                    <li class="tocify-item level-2" data-unique="received-documents-GETapi-v1-taxpayers--taxNumber--received">
                                <a href="#received-documents-GETapi-v1-taxpayers--taxNumber--received">List received documents for a taxpayer</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="received-documents-GETapi-v1-taxpayers--taxNumber--received-accumulated">
                                <a href="#received-documents-GETapi-v1-taxpayers--taxNumber--received-accumulated">Get accumulated totals for received documents</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="received-documents-GETapi-v1-taxpayers--taxNumber--received-count">
                                <a href="#received-documents-GETapi-v1-taxpayers--taxNumber--received-count">Get count of all received documents types</a>
                            </li>
                                                                                <li class="tocify-item level-2" data-unique="received-documents-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals">
                                <a href="#received-documents-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals">Get accumulated totals for a specific supplier (Provider)</a>
                            </li>
                                                                        </ul>
                            </ul>
            </div>

    <ul class="toc-footer" id="toc-footer">
                    <li style="padding-bottom: 5px;"><a href="../docs/collection.json">View Postman collection</a></li>
                            <li style="padding-bottom: 5px;"><a href="../docs/openapi.yaml">View OpenAPI spec</a></li>
                <li><a href="http://github.com/knuckleswtf/scribe">Documentation powered by Scribe ‚úç</a></li>
    </ul>

    <ul class="toc-footer" id="last-updated">
        <li>Last updated: January 8, 2026</li>
    </ul>
</div>

<div class="page-wrapper">
    <div class="dark-box"></div>
    <div class="content">
        <h1 id="introduction">Introduction</h1>
<p>API RESTful para gesti√≥n de contribuyentes, categor√≠as, documentos emitidos, documentos recibidos y reportes tributarios.</p>
<aside>
    <strong>Base URL</strong>: <code>https://ec-demo.taxo.co</code>
</aside>
<pre><code>Esta documentaci√≥n proporciona toda la informaci√≥n necesaria para trabajar con la API de Taxo Impuestos.

## Ambientes

La API est√° disponible en los siguientes ambientes:

| Ambiente | URL | Descripci√≥n |
|----------|-----|-------------|
| **Staging** | `https://ec-demo.taxo.co` | Ambiente de pruebas y desarrollo |
| **Producci√≥n** | `https://ec-impuestos.taxo.co` | Ambiente productivo *(pr√≥ximamente)* |

&lt;aside class="warning"&gt;‚ö†Ô∏è Actualmente esta documentaci√≥n apunta al ambiente de &lt;strong&gt;Staging&lt;/strong&gt;. Los ejemplos de c√≥digo usan la URL de staging.&lt;/aside&gt;

## Autenticaci√≥n

Todas las peticiones a la API requieren dos headers:
- **x-api-key**: Tu API key proporcionado por TWS
- **x-organization-id**: Tu organization ID de TWS

## Rate Limiting

La API est√° limitada a 60 peticiones por minuto por API key.

&lt;aside&gt;A medida que navegues por la documentaci√≥n, ver√°s ejemplos de c√≥digo en diferentes lenguajes en el √°rea oscura a la derecha.&lt;/aside&gt;</code></pre>

        <h1 id="authenticating-requests">Authenticating requests</h1>
<p>To authenticate requests, include a <strong><code>x-api-key</code></strong> header with the value <strong><code>"YOUR_API_KEY_HERE"</code></strong>.</p>
<p>All authenticated endpoints are marked with a <code>requires authentication</code> badge in the documentation below.</p>
<p>Puedes obtener tu API key y Organization ID desde tu dashboard de TWS. <br><br>Debes incluir tambi√©n el header <code>x-organization-id</code> con tu Organization ID.</p>

        <h1 id="taxpayers">Taxpayers</h1>

    <p>API endpoints for managing taxpayers and their related data.</p>

                                <h2 id="taxpayers-GETapi-v1-taxpayers">List taxpayers</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Retrieves a paginated list of all taxpayers belonging to the authenticated organization.
You can filter and sort the results using query parameters.</p>

<span id="example-requests-GETapi-v1-taxpayers">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request GET \
    --get "https://ec-demo.taxo.co/api/v1/taxpayers?page=1&amp;per_page=20&amp;sort=-created_at&amp;search=Empresa+S.A.&amp;status=1&amp;iva_period=MENSUAL&amp;tax_regime_cat=GENERAL&amp;declaration_day=10" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}"</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers"
);

const params = {
    "page": "1",
    "per_page": "20",
    "sort": "-created_at",
    "search": "Empresa S.A.",
    "status": "1",
    "iva_period": "MENSUAL",
    "tax_regime_cat": "GENERAL",
    "declaration_day": "10",
};
Object.keys(params)
    .forEach(key =&gt; url.searchParams.append(key, params[key]));

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

fetch(url, {
    method: "GET",
    headers,
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers';
$response = $client-&gt;get(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
        'query' =&gt; [
            'page' =&gt; '1',
            'per_page' =&gt; '20',
            'sort' =&gt; '-created_at',
            'search' =&gt; 'Empresa S.A.',
            'status' =&gt; '1',
            'iva_period' =&gt; 'MENSUAL',
            'tax_regime_cat' =&gt; 'GENERAL',
            'declaration_day' =&gt; '10',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers'
params = {
  'page': '1',
  'per_page': '20',
  'sort': '-created_at',
  'search': 'Empresa S.A.',
  'status': '1',
  'iva_period': 'MENSUAL',
  'tax_regime_cat': 'GENERAL',
  'declaration_day': '10',
}
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('GET', url, headers=headers, params=params)
response.json()</code></pre></div>

</span>

<span id="example-responses-GETapi-v1-taxpayers">
            <blockquote>
            <p>Example response (200, Success):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Taxpayers retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;taxpayers&quot;: [
            {
                &quot;id&quot;: 144,
                &quot;ulid&quot;: &quot;01HZXXX...&quot;,
                &quot;tax_number&quot;: &quot;1726051285001&quot;,
                &quot;business_name&quot;: &quot;EMPRESA DEMO S.A.&quot;,
                &quot;trade_name&quot;: &quot;DEMO&quot;,
                &quot;tax_payer_status&quot;: &quot;ACTIVE&quot;,
                &quot;tax_regime&quot;: &quot;general&quot;,
                &quot;tax_regime_cat&quot;: &quot;general&quot;,
                &quot;iva_period&quot;: &quot;monthly&quot;,
                &quot;declaration_day&quot;: 12,
                &quot;required_to_keep_accounts&quot;: &quot;SI&quot;,
                &quot;withholding_agent&quot;: &quot;SI&quot;,
                &quot;special_contributor&quot;: &quot;NO&quot;,
                &quot;economic_activity&quot;: &quot;Actividades de consultor&iacute;a de gesti&oacute;n empresarial&quot;,
                &quot;start_activities_date&quot;: &quot;2020-01-15T00:00:00.000000Z&quot;,
                &quot;created_at&quot;: &quot;2024-01-15T10:30:00.000000Z&quot;,
                &quot;updated_at&quot;: &quot;2024-01-15T10:30:00.000000Z&quot;
            }
        ]
    },
    &quot;meta&quot;: {
        &quot;pagination&quot;: {
            &quot;total&quot;: 5,
            &quot;count&quot;: 5,
            &quot;per_page&quot;: 20,
            &quot;current_page&quot;: 1,
            &quot;total_pages&quot;: 1
        },
        &quot;filters&quot;: {
            &quot;status&quot;: &quot;ACTIVE&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (401, Unauthorized):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Invalid API key or organization ID&quot;,
    &quot;code&quot;: &quot;UNAUTHORIZED&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (500, Server error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;An error occurred while retrieving taxpayers&quot;,
    &quot;code&quot;: &quot;SERVER_ERROR&quot;
}</code>
 </pre>
    </span>
<span id="execution-results-GETapi-v1-taxpayers" hidden>
    <blockquote>Received response<span
                id="execution-response-status-GETapi-v1-taxpayers"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-GETapi-v1-taxpayers"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-GETapi-v1-taxpayers" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-GETapi-v1-taxpayers">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-GETapi-v1-taxpayers" data-method="GET"
      data-path="api/v1/taxpayers"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('GETapi-v1-taxpayers', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-GETapi-v1-taxpayers"
                    onclick="tryItOut('GETapi-v1-taxpayers');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-GETapi-v1-taxpayers"
                    onclick="cancelTryOut('GETapi-v1-taxpayers');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-GETapi-v1-taxpayers"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-green">GET</small>
            <b><code>api/v1/taxpayers</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="GETapi-v1-taxpayers"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="GETapi-v1-taxpayers"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="GETapi-v1-taxpayers"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="GETapi-v1-taxpayers"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                            <h4 class="fancy-heading-panel"><b>Query Parameters</b></h4>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>page</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="page"                data-endpoint="GETapi-v1-taxpayers"
               value="1"
               data-component="query">
    <br>
<p>Page number for pagination. El campo value debe ser al menos 1. Example: <code>1</code></p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>per_page</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="per_page"                data-endpoint="GETapi-v1-taxpayers"
               value="20"
               data-component="query">
    <br>
<p>Number of items per page (max 100). El campo value debe ser al menos 1. El campo value no debe ser mayor que 100. Example: <code>20</code></p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>sort</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="sort"                data-endpoint="GETapi-v1-taxpayers"
               value="-created_at"
               data-component="query">
    <br>
<p>Sort field and direction. Prefix with &quot;-&quot; for descending order. Example: <code>-created_at</code></p>
Must be one of:
<ul style="list-style-type: square;"><li><code>business_name</code></li> <li><code>-business_name</code></li> <li><code>tax_number</code></li> <li><code>-tax_number</code></li> <li><code>next_declaration</code></li> <li><code>-next_declaration</code></li> <li><code>created_at</code></li> <li><code>-created_at</code></li></ul>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>search</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="search"                data-endpoint="GETapi-v1-taxpayers"
               value="Empresa S.A."
               data-component="query">
    <br>
<p>Search term to filter by business name or tax number. El campo value no debe ser mayor que 255 caracteres. Example: <code>Empresa S.A.</code></p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>status</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="status"                data-endpoint="GETapi-v1-taxpayers"
               value="1"
               data-component="query">
    <br>
<p>Filter by status (0=inactive, 1=active). Example: <code>1</code></p>
Must be one of:
<ul style="list-style-type: square;"><li><code>0</code></li> <li><code>1</code></li></ul>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>iva_period</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="iva_period"                data-endpoint="GETapi-v1-taxpayers"
               value="MENSUAL"
               data-component="query">
    <br>
<p>Filter by IVA period (MENSUAL, SEMESTRAL). Example: <code>MENSUAL</code></p>
Must be one of:
<ul style="list-style-type: square;"><li><code>MENSUAL</code></li> <li><code>SEMESTRAL</code></li></ul>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>tax_regime_cat</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="tax_regime_cat"                data-endpoint="GETapi-v1-taxpayers"
               value="GENERAL"
               data-component="query">
    <br>
<p>Filter by tax regime category. Example: <code>GENERAL</code></p>
Must be one of:
<ul style="list-style-type: square;"><li><code>RISE</code></li> <li><code>GENERAL</code></li> <li><code>ESPECIAL</code></li></ul>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>declaration_day</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="declaration_day"                data-endpoint="GETapi-v1-taxpayers"
               value="10"
               data-component="query">
    <br>
<p>Filter by declaration day (1-28). El campo value debe ser al menos 1. El campo value no debe ser mayor que 28. Example: <code>10</code></p>
            </div>
                </form>

                    <h2 id="taxpayers-POSTapi-v1-taxpayers">Create a new taxpayer</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Creates a new taxpayer in your organization after validating that the tax identifier exists
in the TWS (Tax Web Services) registry. Accepts RUC (13 digits), C√©dula (10 digits), or Passport.</p>
<p>This endpoint will:</p>
<ol>
<li>Validate the taxpayer doesn't already exist in your organization</li>
<li>Query the TWS registry API to verify the identifier is valid and active</li>
<li>Create the taxpayer with all available data from TWS</li>
<li>Automatically create default categories for document classification</li>
<li>Set up auto-categorization rules</li>
</ol>
<p><strong>Note:</strong> This process may take 5-10 seconds as it queries external services.</p>

<span id="example-requests-POSTapi-v1-taxpayers">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request POST \
    "https://ec-demo.taxo.co/api/v1/taxpayers" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}"</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

fetch(url, {
    method: "POST",
    headers,
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers';
$response = $client-&gt;post(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers'
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('POST', url, headers=headers)
response.json()</code></pre></div>

</span>

<span id="example-responses-POSTapi-v1-taxpayers">
            <blockquote>
            <p>Example response (201, Taxpayer created successfully):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Taxpayer created successfully&quot;,
    &quot;data&quot;: {
        &quot;taxpayer&quot;: {
            &quot;id&quot;: &quot;01JDXYZ123ABC456DEF789GHI&quot;,
            &quot;tax_number&quot;: &quot;1726051285001&quot;,
            &quot;business_name&quot;: &quot;AGUIRRE MEJIA AIDA ISABEL&quot;,
            &quot;legal_name&quot;: &quot;AGUIRRE MEJIA AIDA ISABEL&quot;,
            &quot;email&quot;: null,
            &quot;phone&quot;: null,
            &quot;status&quot;: 1,
            &quot;tax_payer_status&quot;: &quot;ACTIVO&quot;,
            &quot;economic_activity&quot;: &quot;VENTA AL POR MAYOR DE FRUTAS&quot;,
            &quot;tax_regime&quot;: &quot;GENERAL&quot;,
            &quot;tax_regime_cat&quot;: &quot;general&quot;,
            &quot;iva_period&quot;: &quot;monthly&quot;,
            &quot;category&quot;: null,
            &quot;required_to_keep_accounts&quot;: &quot;NO&quot;,
            &quot;withholding_agent&quot;: &quot;NO&quot;,
            &quot;special_contributor&quot;: &quot;NO&quot;,
            &quot;declaration_day&quot;: 12,
            &quot;next_declaration&quot;: null,
            &quot;start_activities_date&quot;: &quot;2018-09-04&quot;,
            &quot;last_sync_at&quot;: null,
            &quot;created_at&quot;: &quot;2024-12-02 15:30:45&quot;,
            &quot;updated_at&quot;: &quot;2024-12-02 15:30:45&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (401, Unauthorized):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Invalid API key or organization ID&quot;,
    &quot;code&quot;: &quot;UNAUTHORIZED&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Taxpayer not found in TWS):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Taxpayer not found in TWS. Please verify the taxpayer ID&quot;,
    &quot;code&quot;: &quot;TAXPAYER_NOT_FOUND_IN_TWS&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (409, Taxpayer already exists):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Taxpayer already exists for this organization&quot;,
    &quot;code&quot;: &quot;TAXPAYER_ALREADY_EXISTS&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Validation error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;taxpayerId&quot;: [
            &quot;The taxpayer ID can only contain letters, numbers, and hyphens&quot;
        ]
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (500, Internal server error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Failed to create taxpayer due to an internal error&quot;,
    &quot;code&quot;: &quot;INTERNAL_SERVER_ERROR&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (503, TWS service unavailable):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Unable to verify taxpayer with TWS app&quot;,
    &quot;code&quot;: &quot;TWS_SERVICE_UNAVAILABLE&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (504, TWS service timeout):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;TWS service timeout. Please try again later&quot;,
    &quot;code&quot;: &quot;TWS_SERVICE_TIMEOUT&quot;
}</code>
 </pre>
    </span>
<span id="execution-results-POSTapi-v1-taxpayers" hidden>
    <blockquote>Received response<span
                id="execution-response-status-POSTapi-v1-taxpayers"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-POSTapi-v1-taxpayers"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-POSTapi-v1-taxpayers" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-POSTapi-v1-taxpayers">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-POSTapi-v1-taxpayers" data-method="POST"
      data-path="api/v1/taxpayers"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('POSTapi-v1-taxpayers', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-POSTapi-v1-taxpayers"
                    onclick="tryItOut('POSTapi-v1-taxpayers');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-POSTapi-v1-taxpayers"
                    onclick="cancelTryOut('POSTapi-v1-taxpayers');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-POSTapi-v1-taxpayers"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-black">POST</small>
            <b><code>api/v1/taxpayers</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="POSTapi-v1-taxpayers"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="POSTapi-v1-taxpayers"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="POSTapi-v1-taxpayers"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="POSTapi-v1-taxpayers"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        </form>

                    <h2 id="taxpayers-GETapi-v1-taxpayers--taxNumber-">Get a specific taxpayer</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Retrieves detailed information for a specific taxpayer identified by their RUC number.
The taxpayer must belong to the authenticated organization.</p>

<span id="example-requests-GETapi-v1-taxpayers--taxNumber-">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request GET \
    --get "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}"</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

fetch(url, {
    method: "GET",
    headers,
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001';
$response = $client-&gt;get(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001'
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('GET', url, headers=headers)
response.json()</code></pre></div>

</span>

<span id="example-responses-GETapi-v1-taxpayers--taxNumber-">
            <blockquote>
            <p>Example response (200, Success):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Taxpayer retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;taxpayer&quot;: {
            &quot;id&quot;: 144,
            &quot;ulid&quot;: &quot;01HZXXX...&quot;,
            &quot;tax_number&quot;: &quot;1726051285001&quot;,
            &quot;business_name&quot;: &quot;EMPRESA DEMO S.A.&quot;,
            &quot;trade_name&quot;: &quot;DEMO&quot;,
            &quot;address&quot;: &quot;Av. Principal 123 y Secundaria&quot;,
            &quot;phone&quot;: &quot;0987654321&quot;,
            &quot;email&quot;: &quot;contacto@demo.com&quot;,
            &quot;legal_representatives&quot;: &quot;Juan P&eacute;rez, Mar&iacute;a Gonz&aacute;lez&quot;,
            &quot;economic_activity&quot;: &quot;Actividades de consultor&iacute;a de gesti&oacute;n empresarial&quot;,
            &quot;tax_payer_status&quot;: &quot;ACTIVE&quot;,
            &quot;tax_payer_type&quot;: &quot;PERSONA JUR&Iacute;DICA&quot;,
            &quot;tax_regime&quot;: &quot;general&quot;,
            &quot;tax_regime_cat&quot;: &quot;general&quot;,
            &quot;category&quot;: null,
            &quot;iva_period&quot;: &quot;monthly&quot;,
            &quot;declaration_day&quot;: 12,
            &quot;required_to_keep_accounts&quot;: &quot;SI&quot;,
            &quot;withholding_agent&quot;: &quot;SI&quot;,
            &quot;special_contributor&quot;: &quot;NO&quot;,
            &quot;ghost_taxpayer&quot;: &quot;NO&quot;,
            &quot;nonexistent_transactions&quot;: &quot;NO&quot;,
            &quot;start_activities_date&quot;: &quot;2020-01-15T00:00:00.000000Z&quot;,
            &quot;cessation_date&quot;: null,
            &quot;restart_activities_date&quot;: null,
            &quot;information_update_date&quot;: &quot;2024-01-15T00:00:00.000000Z&quot;,
            &quot;created_at&quot;: &quot;2024-01-15T10:30:00.000000Z&quot;,
            &quot;updated_at&quot;: &quot;2024-01-15T10:30:00.000000Z&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (401, Unauthorized):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Invalid API key or organization ID&quot;,
    &quot;code&quot;: &quot;UNAUTHORIZED&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Taxpayer not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Taxpayer not found&quot;,
    &quot;code&quot;: &quot;TAXPAYER_NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (500, Server error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;An error occurred while retrieving the taxpayer&quot;,
    &quot;code&quot;: &quot;SERVER_ERROR&quot;
}</code>
 </pre>
    </span>
<span id="execution-results-GETapi-v1-taxpayers--taxNumber-" hidden>
    <blockquote>Received response<span
                id="execution-response-status-GETapi-v1-taxpayers--taxNumber-"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-GETapi-v1-taxpayers--taxNumber-"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-GETapi-v1-taxpayers--taxNumber-" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-GETapi-v1-taxpayers--taxNumber-">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-GETapi-v1-taxpayers--taxNumber-" data-method="GET"
      data-path="api/v1/taxpayers/{taxNumber}"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('GETapi-v1-taxpayers--taxNumber-', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-GETapi-v1-taxpayers--taxNumber-"
                    onclick="tryItOut('GETapi-v1-taxpayers--taxNumber-');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-GETapi-v1-taxpayers--taxNumber-"
                    onclick="cancelTryOut('GETapi-v1-taxpayers--taxNumber-');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-GETapi-v1-taxpayers--taxNumber-"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-green">GET</small>
            <b><code>api/v1/taxpayers/{taxNumber}</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="GETapi-v1-taxpayers--taxNumber-"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="GETapi-v1-taxpayers--taxNumber-"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="GETapi-v1-taxpayers--taxNumber-"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="GETapi-v1-taxpayers--taxNumber-"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="GETapi-v1-taxpayers--taxNumber-"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                    </form>

                    <h2 id="taxpayers-GETapi-v1-taxpayers--taxNumber--categories">Get taxpayer categories</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Retrieves a paginated list of categories for a specific taxpayer.
Categories are used to classify purchase and sales documents.</p>

<span id="example-requests-GETapi-v1-taxpayers--taxNumber--categories">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request GET \
    --get "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/categories?page=1&amp;per_page=20&amp;document_type=sales&amp;category_type=commercial_expenses&amp;enabled=1&amp;editable=1&amp;search=Alimentaci%C3%B3n&amp;filter[document_type]=sales&amp;filter[category_type]=personal_expenses&amp;filter[search]=vmqeopfuudtdsufvyvddq" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}"</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/categories"
);

const params = {
    "page": "1",
    "per_page": "20",
    "document_type": "sales",
    "category_type": "commercial_expenses",
    "enabled": "1",
    "editable": "1",
    "search": "Alimentaci√≥n",
    "filter[document_type]": "sales",
    "filter[category_type]": "personal_expenses",
    "filter[search]": "vmqeopfuudtdsufvyvddq",
};
Object.keys(params)
    .forEach(key =&gt; url.searchParams.append(key, params[key]));

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

fetch(url, {
    method: "GET",
    headers,
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/categories';
$response = $client-&gt;get(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
        'query' =&gt; [
            'page' =&gt; '1',
            'per_page' =&gt; '20',
            'document_type' =&gt; 'sales',
            'category_type' =&gt; 'commercial_expenses',
            'enabled' =&gt; '1',
            'editable' =&gt; '1',
            'search' =&gt; 'Alimentaci√≥n',
            'filter[document_type]' =&gt; 'sales',
            'filter[category_type]' =&gt; 'personal_expenses',
            'filter[search]' =&gt; 'vmqeopfuudtdsufvyvddq',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/categories'
params = {
  'page': '1',
  'per_page': '20',
  'document_type': 'sales',
  'category_type': 'commercial_expenses',
  'enabled': '1',
  'editable': '1',
  'search': 'Alimentaci√≥n',
  'filter[document_type]': 'sales',
  'filter[category_type]': 'personal_expenses',
  'filter[search]': 'vmqeopfuudtdsufvyvddq',
}
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('GET', url, headers=headers, params=params)
response.json()</code></pre></div>

</span>

<span id="example-responses-GETapi-v1-taxpayers--taxNumber--categories">
            <blockquote>
            <p>Example response (200, Success):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Categories retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;categories&quot;: [
            {
                &quot;id&quot;: 9857,
                &quot;name&quot;: &quot;Alimentaci&oacute;n&quot;,
                &quot;code&quot;: &quot;D-001&quot;,
                &quot;description&quot;: null,
                &quot;icon&quot;: &quot;M20 10a5.27...&quot;,
                &quot;color&quot;: &quot;bg-teal-500&quot;,
                &quot;document_type&quot;: &quot;purchases&quot;,
                &quot;category_type&quot;: &quot;personal_expenses&quot;,
                &quot;editable&quot;: false,
                &quot;has_been_edited&quot;: false,
                &quot;enabled&quot;: true,
                &quot;created_at&quot;: &quot;2024-01-15T10:30:00.000000Z&quot;,
                &quot;updated_at&quot;: &quot;2024-01-15T10:30:00.000000Z&quot;,
                &quot;archived_at&quot;: null
            }
        ]
    },
    &quot;meta&quot;: {
        &quot;pagination&quot;: {
            &quot;total&quot;: 30,
            &quot;count&quot;: 20,
            &quot;per_page&quot;: 20,
            &quot;current_page&quot;: 1,
            &quot;total_pages&quot;: 2
        },
        &quot;filters&quot;: {
            &quot;document_type&quot;: &quot;purchases&quot;,
            &quot;enabled&quot;: true
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (401, Unauthorized):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Invalid API key or organization ID&quot;,
    &quot;code&quot;: &quot;UNAUTHORIZED&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Taxpayer not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Taxpayer not found or access denied&quot;,
    &quot;code&quot;: &quot;TAXPAYER_NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (500, Server error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Failed to retrieve categories. Please try again later.&quot;,
    &quot;code&quot;: &quot;SERVER_ERROR&quot;
}</code>
 </pre>
    </span>
<span id="execution-results-GETapi-v1-taxpayers--taxNumber--categories" hidden>
    <blockquote>Received response<span
                id="execution-response-status-GETapi-v1-taxpayers--taxNumber--categories"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-GETapi-v1-taxpayers--taxNumber--categories"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-GETapi-v1-taxpayers--taxNumber--categories" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-GETapi-v1-taxpayers--taxNumber--categories">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-GETapi-v1-taxpayers--taxNumber--categories" data-method="GET"
      data-path="api/v1/taxpayers/{taxNumber}/categories"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('GETapi-v1-taxpayers--taxNumber--categories', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-GETapi-v1-taxpayers--taxNumber--categories"
                    onclick="tryItOut('GETapi-v1-taxpayers--taxNumber--categories');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-GETapi-v1-taxpayers--taxNumber--categories"
                    onclick="cancelTryOut('GETapi-v1-taxpayers--taxNumber--categories');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-GETapi-v1-taxpayers--taxNumber--categories"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-green">GET</small>
            <b><code>api/v1/taxpayers/{taxNumber}/categories</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>Query Parameters</b></h4>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>page</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="page"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="1"
               data-component="query">
    <br>
<p>Page number for pagination. El campo value debe ser al menos 1. Example: <code>1</code></p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>per_page</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="per_page"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="20"
               data-component="query">
    <br>
<p>Number of items per page (max 100). El campo value debe ser al menos 1. El campo value no debe ser mayor que 100. Example: <code>20</code></p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>document_type</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="document_type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="sales"
               data-component="query">
    <br>
<p>Filter by document type (purchases or sales). Example: <code>sales</code></p>
Must be one of:
<ul style="list-style-type: square;"><li><code>purchases</code></li> <li><code>sales</code></li></ul>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>category_type</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="category_type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="commercial_expenses"
               data-component="query">
    <br>
<p>Filter by category type (personal_expenses, commercial_expenses, non_deductible_expenses, sales). Example: <code>commercial_expenses</code></p>
Must be one of:
<ul style="list-style-type: square;"><li><code>personal_expenses</code></li> <li><code>commercial_expenses</code></li> <li><code>non_deductible_expenses</code></li> <li><code>sales</code></li></ul>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>enabled</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="enabled"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="1"
               data-component="query">
    <br>
<p>Filter by enabled status (1 or 0). Example: <code>1</code></p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>editable</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="editable"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="1"
               data-component="query">
    <br>
<p>Filter by editable status (1 or 0). Example: <code>1</code></p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>search</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="search"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="Alimentaci√≥n"
               data-component="query">
    <br>
<p>Search term to filter by name, code, or description. El campo value no debe ser mayor que 255 caracteres. Example: <code>Alimentaci√≥n</code></p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>filter</code></b>&nbsp;&nbsp;
<small>object</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="filter"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value=""
               data-component="query">
    <br>

            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>filter.document_type</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="filter.document_type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="sales"
               data-component="query">
    <br>
<p>Example: <code>sales</code></p>
Must be one of:
<ul style="list-style-type: square;"><li><code>purchases</code></li> <li><code>sales</code></li></ul>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>filter.category_type</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="filter.category_type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="personal_expenses"
               data-component="query">
    <br>
<p>Example: <code>personal_expenses</code></p>
Must be one of:
<ul style="list-style-type: square;"><li><code>personal_expenses</code></li> <li><code>commercial_expenses</code></li> <li><code>non_deductible_expenses</code></li> <li><code>sales</code></li></ul>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>filter.enabled</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="filter.enabled"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value=""
               data-component="query">
    <br>

            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>filter.editable</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="filter.editable"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value=""
               data-component="query">
    <br>

            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>filter.search</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="filter.search"                data-endpoint="GETapi-v1-taxpayers--taxNumber--categories"
               value="vmqeopfuudtdsufvyvddq"
               data-component="query">
    <br>
<p>El campo value no debe ser mayor que 255 caracteres. Example: <code>vmqeopfuudtdsufvyvddq</code></p>
            </div>
                </form>

                <h1 id="iva-reports">IVA Reports</h1>

    <p>API endpoints for managing IVA (Value Added Tax) reports.</p>
<h2>Report Lifecycle &amp; State Machine</h2>
<p>Each IVA report follows a state machine with controlled transitions. Understanding the states and allowed transitions is critical for proper API usage.</p>
<h3>Report States</h3>
<table>
<thead>
<tr>
<th>State</th>
<th>Code</th>
<th>Description</th>
<th>Can Edit?</th>
</tr>
</thead>
<tbody>
<tr>
<td>Draft</td>
<td><code>draft</code></td>
<td>Initial state, automatically created</td>
<td>‚úÖ Yes</td>
</tr>
<tr>
<td>Edited</td>
<td><code>edited</code></td>
<td>Has manual modifications</td>
<td>‚úÖ Yes</td>
</tr>
<tr>
<td>Saved</td>
<td><code>saved</code></td>
<td>Ready for review/approval</td>
<td>‚ùå No</td>
</tr>
<tr>
<td>Sent</td>
<td><code>sent</code></td>
<td>Sent to taxpayer for approval</td>
<td>‚ùå No</td>
</tr>
<tr>
<td>Approved</td>
<td><code>approved</code></td>
<td>Approved, ready for SRI submission</td>
<td>‚ùå No</td>
</tr>
<tr>
<td>Rejected</td>
<td><code>rejected</code></td>
<td>Rejected, requires corrections</td>
<td>‚ùå No</td>
</tr>
<tr>
<td>SRI Sended</td>
<td><code>sri_sended</code></td>
<td>Being sent to SRI</td>
<td>‚ùå No</td>
</tr>
<tr>
<td>SRI Completed</td>
<td><code>sri_sended_completed</code></td>
<td>SRI processing completed</td>
<td>‚ùå No</td>
</tr>
<tr>
<td>Declared</td>
<td><code>declared</code></td>
<td>Successfully declared in SRI</td>
<td>‚ùå No</td>
</tr>
<tr>
<td>Error</td>
<td><code>error</code></td>
<td>Error during SRI submission</td>
<td>‚ùå No</td>
</tr>
</tbody>
</table>
<h3>State Transitions Matrix</h3>
<table>
<thead>
<tr>
<th>From State</th>
<th>Allowed Transitions</th>
<th>Endpoints</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>draft</code></td>
<td>‚Üí <code>edited</code>, <code>saved</code></td>
<td><code>/save</code></td>
</tr>
<tr>
<td><code>edited</code></td>
<td>‚Üí <code>draft</code>, <code>saved</code></td>
<td><code>/recalculate</code>, <code>/save</code></td>
</tr>
<tr>
<td><code>saved</code></td>
<td>‚Üí <code>draft</code>, <code>sent</code>, <code>approved</code>, <code>rejected</code>, <code>sri_sended</code></td>
<td><code>/recalculate</code>, <code>/send</code>, <code>/approve</code>, <code>/reject</code>, <code>/send-sri-draft</code></td>
</tr>
<tr>
<td><code>sent</code></td>
<td>‚Üí <code>draft</code>, <code>approved</code>, <code>rejected</code></td>
<td><code>/recalculate</code>, <code>/approve</code>, <code>/reject</code></td>
</tr>
<tr>
<td><code>approved</code></td>
<td>‚Üí <code>draft</code>, <code>sri_sended</code>, <code>declared</code></td>
<td><code>/recalculate</code>, <code>/send-sri-draft</code>, <code>/mark-declared</code></td>
</tr>
<tr>
<td><code>rejected</code></td>
<td>‚Üí <code>draft</code></td>
<td><code>/recalculate</code></td>
</tr>
<tr>
<td><code>sri_sended</code></td>
<td>‚Üí <code>sri_sended_completed</code>, <code>error</code></td>
<td>(automatic)</td>
</tr>
<tr>
<td><code>sri_sended_completed</code></td>
<td>‚Üí <code>draft</code>, <code>approved</code>, <code>rejected</code>, <code>declared</code></td>
<td><code>/recalculate</code>, <code>/approve</code>, <code>/reject</code>, <code>/mark-declared</code></td>
</tr>
<tr>
<td><code>error</code></td>
<td>‚Üí <code>draft</code>, <code>sri_sended</code></td>
<td><code>/recalculate</code>, <code>/send-sri-draft</code></td>
</tr>
<tr>
<td><code>declared</code></td>
<td>‚Üí <code>draft</code></td>
<td><code>/recalculate</code></td>
</tr>
</tbody>
</table>
<h3>Common Workflows</h3>
<h4>Workflow 1: Direct Approval (no taxpayer review)</h4>
<pre><code>1. POST   /iva-reports                    ‚Üí Creates report (draft)
2. GET    /iva-reports/{period}           ‚Üí Review calculated values
3. PATCH  /iva-reports/save               ‚Üí Lock for review (saved)
4. PATCH  /iva-reports/approve            ‚Üí Approve report (approved)
5. POST   /iva-reports/send-sri-draft     ‚Üí Submit to SRI (sri_sended ‚Üí sri_sended_completed)
6. PATCH  /iva-reports/mark-declared      ‚Üí Mark as declared (declared)</code></pre>
<h4>Workflow 2: With Taxpayer Approval</h4>
<pre><code>1. POST   /iva-reports                    ‚Üí Creates report (draft)
2. PATCH  /iva-reports/save               ‚Üí Lock for review (saved)
3. POST   /iva-reports/send               ‚Üí Email to taxpayer (sent)
4. [Taxpayer reviews and approves via link]
5. POST   /iva-reports/send-sri-draft     ‚Üí Submit to SRI (approved ‚Üí sri_sended)
6. PATCH  /iva-reports/mark-declared      ‚Üí Mark as declared (declared)</code></pre>
<h4>Workflow 3: SRI Draft First, Then Approval</h4>
<pre><code>1. POST   /iva-reports                    ‚Üí Creates report (draft)
2. PATCH  /iva-reports/save               ‚Üí Lock for review (saved)
3. POST   /iva-reports/send-sri-draft     ‚Üí Submit draft to SRI (sri_sended ‚Üí sri_sended_completed)
4. POST   /iva-reports/send               ‚Üí Email to taxpayer (sent)
5. [Taxpayer approves via link]
6. PATCH  /iva-reports/mark-declared      ‚Üí Mark as declared (declared)</code></pre>
<h4>Workflow 4: Rejection &amp; Correction</h4>
<pre><code>1. POST   /iva-reports                    ‚Üí Creates report (draft)
2. PATCH  /iva-reports/save               ‚Üí Lock for review (saved)
3. POST   /iva-reports/send               ‚Üí Email to taxpayer (sent)
4. PATCH  /iva-reports/reject             ‚Üí Reject with comments (rejected)
5. POST   /iva-reports/recalculate        ‚Üí Reset to draft (draft)
6. [Add missing documents, correct errors]
7. PATCH  /iva-reports/save               ‚Üí Save again (saved)
8. PATCH  /iva-reports/approve            ‚Üí Approve (approved)</code></pre>
<h3>Endpoints That Don't Require Transitions</h3>
<p>These endpoints can be called at any time regardless of state:</p>
<ul>
<li><strong><code>GET /iva-reports</code></strong> - List all reports</li>
<li><strong><code>GET /iva-reports/{period}</code></strong> - View specific report details</li>
<li><strong><code>POST /iva-reports</code></strong> - Create new report (always starts in <code>draft</code>)</li>
<li><strong><code>POST /iva-reports/recalculate</code></strong> - Reset report to <code>draft</code> (allowed from most states)</li>
</ul>
<h3>Important Notes</h3>
<ol>
<li><strong>Report Identification</strong>: Reports are uniquely identified by <code>taxpayer_id</code>, <code>period</code>, and <code>team_id</code></li>
<li><strong>Period Format</strong>: Use <code>YYYY-MM</code> format (e.g., <code>2024-03</code>). The system auto-calculates the exact date based on taxpayer's periodicity</li>
<li><strong>Automatic Calculations</strong>: Reports are automatically calculated from issued/received documents when created</li>
<li><strong>State Validation</strong>: All state-changing endpoints validate transitions. Invalid transitions return <code>400 INVALID_TRANSITION</code></li>
<li><strong>Idempotency</strong>: Some endpoints are idempotent (e.g., <code>/save</code> from <code>saved</code> state, <code>/send</code> from <code>sent</code> state)</li>
</ol>
<h3>Error Handling</h3>
<ul>
<li><strong><code>400 INVALID_TRANSITION</code></strong>: Attempted invalid state transition</li>
<li><strong><code>404 NOT_FOUND</code></strong>: Report or taxpayer not found</li>
<li><strong><code>422 VALIDATION_ERROR</code></strong>: Invalid input parameters</li>
<li><strong><code>503 EMAIL_SEND_FAILED</code></strong>: Email service unavailable (only <code>/send</code> endpoint)</li>
</ul>

                                <h2 id="iva-reports-GETapi-v1-taxpayers--taxNumber--iva-reports">List IVA reports for a taxpayer</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Retrieves a paginated list of IVA reports for a specific taxpayer.</p>
<p><strong>IMPORTANT:</strong> This is a GET request. All parameters must be sent as query string parameters in the URL.
Do NOT send a request body.</p>
<p><strong>Example URL:</strong></p>
<pre><code>GET /api/v1/taxpayers/1726051285001/iva-reports?page=1&amp;per_page=20&amp;status=saved&amp;sort=-period</code></pre>
<p><strong>Available filters (all optional, sent as query params in URL):</strong></p>
<ul>
<li><code>page</code>: Page number for pagination (default: 1)</li>
<li><code>per_page</code>: Items per page, 1-100 (default: 20)</li>
<li><code>status</code>: Filter by report status</li>
<li><code>periodicity</code>: Filter by periodicity (monthly, biannual)</li>
<li><code>year</code>: Filter by year</li>
<li><code>sort</code>: Sort field. Prefix with <code>-</code> for descending (e.g., <code>-period</code>, <code>status</code>)</li>
</ul>
<p><strong>Available statuses:</strong></p>
<ul>
<li><code>draft</code>: Initial state, being edited</li>
<li><code>edited</code>: Has manual edits</li>
<li><code>saved</code>: Ready for review</li>
<li><code>sent</code>: Sent to taxpayer for approval</li>
<li><code>approved</code>: Approved and ready for SRI submission</li>
<li><code>rejected</code>: Rejected, needs corrections</li>
<li><code>sri_sended</code>: Sent to SRI (in progress)</li>
<li><code>sri_sended_completed</code>: SRI processing completed</li>
<li><code>declared</code>: Marked as declared</li>
<li><code>error</code>: Error during SRI submission</li>
</ul>

<span id="example-requests-GETapi-v1-taxpayers--taxNumber--iva-reports">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request GET \
    --get "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}"</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

fetch(url, {
    method: "GET",
    headers,
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports';
$response = $client-&gt;get(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports'
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('GET', url, headers=headers)
response.json()</code></pre></div>

</span>

<span id="example-responses-GETapi-v1-taxpayers--taxNumber--iva-reports">
            <blockquote>
            <p>Example response (200, Success):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Reports retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;reports&quot;: [
            {
                &quot;id&quot;: &quot;01HZXXX123ABC456&quot;,
                &quot;tax_payer_id&quot;: 123,
                &quot;period&quot;: &quot;2024-03-15&quot;,
                &quot;periodicity&quot;: &quot;monthly&quot;,
                &quot;status&quot;: &quot;saved&quot;,
                &quot;status_label&quot;: &quot;Guardado&quot;,
                &quot;total_sales_raw_value&quot;: 15000,
                &quot;total_taxes_to_pay_iva&quot;: 1200.5,
                &quot;created_at&quot;: &quot;2024-03-01T09:00:00.000000Z&quot;,
                &quot;updated_at&quot;: &quot;2024-03-05T14:30:00.000000Z&quot;
            },
            {
                &quot;id&quot;: &quot;01HZXXX123ABC789&quot;,
                &quot;tax_payer_id&quot;: 123,
                &quot;period&quot;: &quot;2024-02-15&quot;,
                &quot;periodicity&quot;: &quot;monthly&quot;,
                &quot;status&quot;: &quot;declared&quot;,
                &quot;status_label&quot;: &quot;Declarado&quot;,
                &quot;total_sales_raw_value&quot;: 12500,
                &quot;total_taxes_to_pay_iva&quot;: 980,
                &quot;created_at&quot;: &quot;2024-02-01T10:15:00.000000Z&quot;,
                &quot;updated_at&quot;: &quot;2024-02-20T16:45:00.000000Z&quot;
            }
        ]
    },
    &quot;meta&quot;: {
        &quot;pagination&quot;: {
            &quot;current_page&quot;: 1,
            &quot;per_page&quot;: 20,
            &quot;total&quot;: 24,
            &quot;total_pages&quot;: 2,
            &quot;from&quot;: 1,
            &quot;to&quot;: 20
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (401, Unauthorized):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Invalid API key or organization ID&quot;,
    &quot;code&quot;: &quot;UNAUTHORIZED&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Taxpayer not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Taxpayer not found&quot;,
    &quot;code&quot;: &quot;NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Invalid filter):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;status&quot;: [
            &quot;Invalid status value&quot;
        ]
    }
}</code>
 </pre>
    </span>
<span id="execution-results-GETapi-v1-taxpayers--taxNumber--iva-reports" hidden>
    <blockquote>Received response<span
                id="execution-response-status-GETapi-v1-taxpayers--taxNumber--iva-reports"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-GETapi-v1-taxpayers--taxNumber--iva-reports"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-GETapi-v1-taxpayers--taxNumber--iva-reports" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-GETapi-v1-taxpayers--taxNumber--iva-reports">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-GETapi-v1-taxpayers--taxNumber--iva-reports" data-method="GET"
      data-path="api/v1/taxpayers/{taxNumber}/iva-reports"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('GETapi-v1-taxpayers--taxNumber--iva-reports', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-GETapi-v1-taxpayers--taxNumber--iva-reports"
                    onclick="tryItOut('GETapi-v1-taxpayers--taxNumber--iva-reports');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-GETapi-v1-taxpayers--taxNumber--iva-reports"
                    onclick="cancelTryOut('GETapi-v1-taxpayers--taxNumber--iva-reports');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-GETapi-v1-taxpayers--taxNumber--iva-reports"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-green">GET</small>
            <b><code>api/v1/taxpayers/{taxNumber}/iva-reports</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>Query Parameters</b></h4>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>page</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="page"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports"
               value=""
               data-component="query">
    <br>
<p>Page number for pagination.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>per_page</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="per_page"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports"
               value=""
               data-component="query">
    <br>
<p>Items per page (1-100).</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>status</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="status"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports"
               value=""
               data-component="query">
    <br>
<p>Filter by report status.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>periodicity</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="periodicity"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports"
               value=""
               data-component="query">
    <br>
<p>Filter by periodicity (monthly, biannual).</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>year</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="year"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports"
               value=""
               data-component="query">
    <br>
<p>Filter by year.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>sort</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="sort"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports"
               value=""
               data-component="query">
    <br>
<p>Sort field. Prefix with - for descending.</p>
            </div>
                </form>

                    <h2 id="iva-reports-POSTapi-v1-taxpayers--taxNumber--iva-reports">Create a new IVA report</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Creates a new IVA report for the specified period if it doesn't already exist.
The report is created in DRAFT status with all values calculated automatically from:</p>
<ul>
<li>Sales invoices and credit notes</li>
<li>Purchase bills and credit notes</li>
<li>Withholding documents</li>
</ul>
<p><strong>Important notes:</strong></p>
<ul>
<li>If a report already exists for the period, it returns the existing one (idempotent)</li>
<li>The period is converted to a full date based on taxpayer's periodicity</li>
<li>Monthly taxpayers: YYYY-MM ‚Üí YYYY-MM-15</li>
<li>Biannual taxpayers: Only YYYY-06 or YYYY-12 allowed</li>
<li>This process may take 3-5 seconds as it calculates from all documents</li>
</ul>
<p><strong>Workflow:</strong></p>
<ol>
<li>Validates period format</li>
<li>Checks if report already exists</li>
<li>Queries all documents for the period</li>
<li>Calculates sales, purchases, and tax totals</li>
<li>Creates report in DRAFT status</li>
<li>Records initial status in history</li>
</ol>

<span id="example-requests-POSTapi-v1-taxpayers--taxNumber--iva-reports">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request POST \
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}" \
    --data "{
    \"period\": \"2024-03\"
}"
</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

let body = {
    "period": "2024-03"
};

fetch(url, {
    method: "POST",
    headers,
    body: JSON.stringify(body),
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports';
$response = $client-&gt;post(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
        'json' =&gt; [
            'period' =&gt; '2024-03',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports'
payload = {
    "period": "2024-03"
}
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('POST', url, headers=headers, json=payload)
response.json()</code></pre></div>

</span>

<span id="example-responses-POSTapi-v1-taxpayers--taxNumber--iva-reports">
            <blockquote>
            <p>Example response (200, Report already exists):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Report already exists for this period&quot;,
    &quot;data&quot;: {
        &quot;report&quot;: {
            &quot;id&quot;: &quot;01HZXXX123ABC456&quot;,
            &quot;tax_payer_id&quot;: 123,
            &quot;period&quot;: &quot;2024-03-15&quot;,
            &quot;periodicity&quot;: &quot;monthly&quot;,
            &quot;status&quot;: &quot;saved&quot;,
            &quot;status_label&quot;: &quot;Guardado&quot;,
            &quot;total_taxes_to_pay_iva&quot;: 1200,
            &quot;created_at&quot;: &quot;2024-03-01T09:00:00.000000Z&quot;,
            &quot;updated_at&quot;: &quot;2024-03-05T14:30:00.000000Z&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (201, Report created successfully):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Report created successfully&quot;,
    &quot;data&quot;: {
        &quot;report&quot;: {
            &quot;id&quot;: &quot;01HZXXX123ABC456&quot;,
            &quot;tax_payer_id&quot;: 123,
            &quot;period&quot;: &quot;2024-03-15&quot;,
            &quot;periodicity&quot;: &quot;monthly&quot;,
            &quot;status&quot;: &quot;draft&quot;,
            &quot;status_label&quot;: &quot;Borrador&quot;,
            &quot;local_sales_different_0_rate_raw_value&quot;: 10000,
            &quot;local_sales_different_0_rate_iva&quot;: 1200,
            &quot;total_sales_raw_value&quot;: 15000,
            &quot;total_sales_iva&quot;: 1800,
            &quot;purchases_different_0_rate_with_right_iva&quot;: 600,
            &quot;total_taxes_to_pay_iva&quot;: 1200,
            &quot;total_invoices_issued&quot;: 45,
            &quot;created_at&quot;: &quot;2024-03-01T09:00:00.000000Z&quot;,
            &quot;updated_at&quot;: &quot;2024-03-01T09:00:00.000000Z&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Taxpayer not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Taxpayer not found&quot;,
    &quot;code&quot;: &quot;NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Invalid period format):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;period&quot;: [
            &quot;Period must be in YYYY-MM format (e.g., 2024-03)&quot;
        ]
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Invalid period for biannual):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;period&quot;: [
            &quot;For biannual periodicity, period must be YYYY-06 or YYYY-12&quot;
        ]
    }
}</code>
 </pre>
    </span>
<span id="execution-results-POSTapi-v1-taxpayers--taxNumber--iva-reports" hidden>
    <blockquote>Received response<span
                id="execution-response-status-POSTapi-v1-taxpayers--taxNumber--iva-reports"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-POSTapi-v1-taxpayers--taxNumber--iva-reports"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-POSTapi-v1-taxpayers--taxNumber--iva-reports" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-POSTapi-v1-taxpayers--taxNumber--iva-reports">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-POSTapi-v1-taxpayers--taxNumber--iva-reports" data-method="POST"
      data-path="api/v1/taxpayers/{taxNumber}/iva-reports"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('POSTapi-v1-taxpayers--taxNumber--iva-reports', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-POSTapi-v1-taxpayers--taxNumber--iva-reports"
                    onclick="tryItOut('POSTapi-v1-taxpayers--taxNumber--iva-reports');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-POSTapi-v1-taxpayers--taxNumber--iva-reports"
                    onclick="cancelTryOut('POSTapi-v1-taxpayers--taxNumber--iva-reports');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-POSTapi-v1-taxpayers--taxNumber--iva-reports"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-black">POST</small>
            <b><code>api/v1/taxpayers/{taxNumber}/iva-reports</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                            <h4 class="fancy-heading-panel"><b>Body Parameters</b></h4>
        <div style=" padding-left: 28px;  clear: unset;">
            <b style="line-height: 2;"><code>period</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="period"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports"
               value="2024-03"
               data-component="body">
    <br>
<p>Period in YYYY-MM format. Example: <code>2024-03</code></p>
        </div>
        </form>

                    <h2 id="iva-reports-GETapi-v1-taxpayers--taxNumber--iva-reports--period-">Get a specific IVA report</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Retrieves detailed information for a specific IVA report identified by period.
Returns all calculated fields including sales, purchases, tax credits, and final tax amount.</p>
<p><strong>IMPORTANT:</strong> This is a GET request. Do NOT send a request body.</p>
<p><strong>Example URL:</strong></p>
<pre><code>GET /api/v1/taxpayers/1726051285001/iva-reports/2024-03</code></pre>
<p><strong>Period Format:</strong>
The period parameter uses YYYY-MM format and is automatically converted to the full date
based on the taxpayer's periodicity:</p>
<ul>
<li><strong>Monthly</strong>: <code>2024-03</code> becomes <code>2024-03-15</code></li>
<li><strong>Biannual</strong>: <code>2024-06</code> becomes <code>2024-06-15</code> (first semester) or <code>2024-12</code> becomes <code>2024-12-15</code> (second semester)</li>
</ul>

<span id="example-requests-GETapi-v1-taxpayers--taxNumber--iva-reports--period-">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request GET \
    --get "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/2024-03" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}"</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/2024-03"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

fetch(url, {
    method: "GET",
    headers,
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/2024-03';
$response = $client-&gt;get(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/2024-03'
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('GET', url, headers=headers)
response.json()</code></pre></div>

</span>

<span id="example-responses-GETapi-v1-taxpayers--taxNumber--iva-reports--period-">
            <blockquote>
            <p>Example response (200, Success):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Report retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;report&quot;: {
            &quot;id&quot;: &quot;01HZXXX123ABC456&quot;,
            &quot;tax_payer_id&quot;: 123,
            &quot;period&quot;: &quot;2024-03-15&quot;,
            &quot;periodicity&quot;: &quot;monthly&quot;,
            &quot;status&quot;: &quot;saved&quot;,
            &quot;status_label&quot;: &quot;Guardado&quot;,
            &quot;public_link&quot;: &quot;https://app.taxo.ec/public/reports/abc123&quot;,
            &quot;comments&quot;: null,
            &quot;report_comments&quot;: &quot;Reporte revisado&quot;,
            &quot;vat_declaration_pdf&quot;: null,
            &quot;vat_payment_receipt_pdf&quot;: null,
            &quot;local_sales_different_0_rate_raw_value&quot;: 10000,
            &quot;local_sales_different_0_rate_iva&quot;: 1200,
            &quot;total_sales_raw_value&quot;: 15000,
            &quot;total_sales_iva&quot;: 1800,
            &quot;purchases_different_0_rate_with_right_raw_value&quot;: 5000,
            &quot;purchases_different_0_rate_with_right_iva&quot;: 600,
            &quot;total_acquisitions_and_payments_raw_value&quot;: 6500,
            &quot;total_acquisitions_and_payments_iva&quot;: 780,
            &quot;purchases_tax_credit_applicable_period_iva&quot;: 780,
            &quot;tax_caused_iva&quot;: 1800,
            &quot;total_tax_credit_period_iva&quot;: 780,
            &quot;subtotal_to_pay_iva&quot;: 1020,
            &quot;total_taxes_to_pay_iva&quot;: 1020,
            &quot;total_invoices_issued&quot;: 45,
            &quot;total_invoices_canceled&quot;: 2,
            &quot;documents_generated_period&quot;: 128,
            &quot;created_at&quot;: &quot;2024-03-01T09:00:00.000000Z&quot;,
            &quot;updated_at&quot;: &quot;2024-03-05T14:30:00.000000Z&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Report not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Report not found for period 2024-03&quot;,
    &quot;code&quot;: &quot;NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Taxpayer not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Taxpayer not found&quot;,
    &quot;code&quot;: &quot;NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Invalid period format):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;period&quot;: [
            &quot;Invalid period format. Expected YYYY-MM (e.g., 2024-03)&quot;
        ]
    }
}</code>
 </pre>
    </span>
<span id="execution-results-GETapi-v1-taxpayers--taxNumber--iva-reports--period-" hidden>
    <blockquote>Received response<span
                id="execution-response-status-GETapi-v1-taxpayers--taxNumber--iva-reports--period-"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-GETapi-v1-taxpayers--taxNumber--iva-reports--period-"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-GETapi-v1-taxpayers--taxNumber--iva-reports--period-" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-GETapi-v1-taxpayers--taxNumber--iva-reports--period-">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-GETapi-v1-taxpayers--taxNumber--iva-reports--period-" data-method="GET"
      data-path="api/v1/taxpayers/{taxNumber}/iva-reports/{period}"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('GETapi-v1-taxpayers--taxNumber--iva-reports--period-', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-GETapi-v1-taxpayers--taxNumber--iva-reports--period-"
                    onclick="tryItOut('GETapi-v1-taxpayers--taxNumber--iva-reports--period-');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-GETapi-v1-taxpayers--taxNumber--iva-reports--period-"
                    onclick="cancelTryOut('GETapi-v1-taxpayers--taxNumber--iva-reports--period-');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-GETapi-v1-taxpayers--taxNumber--iva-reports--period-"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-green">GET</small>
            <b><code>api/v1/taxpayers/{taxNumber}/iva-reports/{period}</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports--period-"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports--period-"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports--period-"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports--period-"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports--period-"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>period</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="period"                data-endpoint="GETapi-v1-taxpayers--taxNumber--iva-reports--period-"
               value="2024-03"
               data-component="url">
    <br>
<p>Period in YYYY-MM format. Example: <code>2024-03</code></p>
            </div>
                    </form>

                    <h2 id="iva-reports-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate">Recalculate IVA report (Update Report)</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Resets the report to DRAFT status and recalculates all values from current documents.
This is the API equivalent of the &quot;Actualizar reporte&quot; button in the UI.</p>
<p><strong>Use cases:</strong></p>
<ul>
<li>New invoices/bills were added after creating the report</li>
<li>Documents were corrected or updated</li>
<li>Need to refresh calculations with latest data</li>
<li>Reset report from any state back to draft</li>
</ul>
<p><strong>What this endpoint does:</strong></p>
<ol>
<li>Validates the report exists for the period</li>
<li>Clears uploaded PDF files (vat_declaration_pdf, vat_payment_receipt_pdf)</li>
<li>Transitions report status to DRAFT (allowed from any state)</li>
<li>Queries all documents for the period again</li>
<li>Recalculates all sales, purchases, and tax totals</li>
<li>Records the status change in history</li>
</ol>
<p><strong>Warning:</strong> This action will overwrite any manual edits made to the report.</p>

<span id="example-requests-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request POST \
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/recalculate" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}" \
    --data "{
    \"period\": \"2024-03\"
}"
</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/recalculate"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

let body = {
    "period": "2024-03"
};

fetch(url, {
    method: "POST",
    headers,
    body: JSON.stringify(body),
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/recalculate';
$response = $client-&gt;post(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
        'json' =&gt; [
            'period' =&gt; '2024-03',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/recalculate'
payload = {
    "period": "2024-03"
}
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('POST', url, headers=headers, json=payload)
response.json()</code></pre></div>

</span>

<span id="example-responses-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate">
            <blockquote>
            <p>Example response (200, Successfully recalculated):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Report recalculated successfully&quot;,
    &quot;data&quot;: {
        &quot;report&quot;: {
            &quot;id&quot;: &quot;01HZXXX123ABC456&quot;,
            &quot;tax_payer_id&quot;: 123,
            &quot;period&quot;: &quot;2024-03-15&quot;,
            &quot;periodicity&quot;: &quot;monthly&quot;,
            &quot;status&quot;: &quot;draft&quot;,
            &quot;status_label&quot;: &quot;Borrador&quot;,
            &quot;vat_declaration_pdf&quot;: null,
            &quot;vat_payment_receipt_pdf&quot;: null,
            &quot;total_sales_raw_value&quot;: 16500,
            &quot;total_sales_iva&quot;: 1980,
            &quot;total_taxes_to_pay_iva&quot;: 1350.75,
            &quot;total_invoices_issued&quot;: 52,
            &quot;updated_at&quot;: &quot;2024-03-10T15:45:00.000000Z&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (400, Invalid transition (should not happen)):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Cannot transition from sri_sended to draft&quot;,
    &quot;code&quot;: &quot;INVALID_TRANSITION&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Report not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Report not found for period 2024-03&quot;,
    &quot;code&quot;: &quot;NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Invalid period format):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;period&quot;: [
            &quot;Period must be in YYYY-MM format (e.g., 2024-03)&quot;
        ]
    }
}</code>
 </pre>
    </span>
<span id="execution-results-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate" hidden>
    <blockquote>Received response<span
                id="execution-response-status-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate" data-method="POST"
      data-path="api/v1/taxpayers/{taxNumber}/iva-reports/recalculate"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate"
                    onclick="tryItOut('POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate"
                    onclick="cancelTryOut('POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-black">POST</small>
            <b><code>api/v1/taxpayers/{taxNumber}/iva-reports/recalculate</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                            <h4 class="fancy-heading-panel"><b>Body Parameters</b></h4>
        <div style=" padding-left: 28px;  clear: unset;">
            <b style="line-height: 2;"><code>period</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="period"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-recalculate"
               value="2024-03"
               data-component="body">
    <br>
<p>Period in YYYY-MM format. Example: <code>2024-03</code></p>
        </div>
        </form>

                    <h2 id="iva-reports-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save">Save IVA report</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Saves the report by changing its status from DRAFT/EDITED to SAVED.
A saved report is locked from further edits and ready for approval workflow.
Optionally adds comments to document any observations or notes.</p>
<p><strong>When to use:</strong></p>
<ul>
<li>After reviewing calculated values in draft</li>
<li>Before sending to taxpayer for approval</li>
<li>When report data is final and correct</li>
</ul>
<p><strong>Valid transitions:</strong></p>
<ul>
<li>DRAFT ‚Üí SAVED</li>
<li>EDITED ‚Üí SAVED</li>
</ul>
<p><strong>After saving, you can:</strong></p>
<ul>
<li>Send report via email for approval (<code>/send</code>)</li>
<li>Directly approve as accountant (<code>/approve</code>)</li>
<li>Reject if issues found (<code>/reject</code>)</li>
</ul>

<span id="example-requests-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request PATCH \
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/save" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}" \
    --data "{
    \"period\": \"2024-03\",
    \"comments\": \"Reporte revisado, valores correctos\"
}"
</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/save"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

let body = {
    "period": "2024-03",
    "comments": "Reporte revisado, valores correctos"
};

fetch(url, {
    method: "PATCH",
    headers,
    body: JSON.stringify(body),
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/save';
$response = $client-&gt;patch(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
        'json' =&gt; [
            'period' =&gt; '2024-03',
            'comments' =&gt; 'Reporte revisado, valores correctos',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/save'
payload = {
    "period": "2024-03",
    "comments": "Reporte revisado, valores correctos"
}
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('PATCH', url, headers=headers, json=payload)
response.json()</code></pre></div>

</span>

<span id="example-responses-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save">
            <blockquote>
            <p>Example response (200, Successfully saved):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Report saved successfully&quot;,
    &quot;data&quot;: {
        &quot;report&quot;: {
            &quot;id&quot;: &quot;01HZXXX123ABC456&quot;,
            &quot;tax_payer_id&quot;: 123,
            &quot;period&quot;: &quot;2024-03-15&quot;,
            &quot;periodicity&quot;: &quot;monthly&quot;,
            &quot;status&quot;: &quot;saved&quot;,
            &quot;status_label&quot;: &quot;Guardado&quot;,
            &quot;report_comments&quot;: &quot;Reporte revisado, valores correctos&quot;,
            &quot;total_sales_raw_value&quot;: 15000,
            &quot;total_taxes_to_pay_iva&quot;: 1200,
            &quot;updated_at&quot;: &quot;2024-03-05T14:30:00.000000Z&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (400, Invalid status):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Cannot transition from approved to saved&quot;,
    &quot;code&quot;: &quot;INVALID_TRANSITION&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Report not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Report not found for period 2024-03&quot;,
    &quot;code&quot;: &quot;NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Validation error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;comments&quot;: [
            &quot;Comments cannot exceed 500 characters&quot;
        ]
    }
}</code>
 </pre>
    </span>
<span id="execution-results-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save" hidden>
    <blockquote>Received response<span
                id="execution-response-status-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save" data-method="PATCH"
      data-path="api/v1/taxpayers/{taxNumber}/iva-reports/save"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('PATCHapi-v1-taxpayers--taxNumber--iva-reports-save', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save"
                    onclick="tryItOut('PATCHapi-v1-taxpayers--taxNumber--iva-reports-save');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save"
                    onclick="cancelTryOut('PATCHapi-v1-taxpayers--taxNumber--iva-reports-save');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-PATCHapi-v1-taxpayers--taxNumber--iva-reports-save"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-purple">PATCH</small>
            <b><code>api/v1/taxpayers/{taxNumber}/iva-reports/save</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-save"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-save"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-save"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-save"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-save"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                            <h4 class="fancy-heading-panel"><b>Body Parameters</b></h4>
        <div style=" padding-left: 28px;  clear: unset;">
            <b style="line-height: 2;"><code>period</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="period"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-save"
               value="2024-03"
               data-component="body">
    <br>
<p>Period in YYYY-MM format. Example: <code>2024-03</code></p>
        </div>
                <div style=" padding-left: 28px;  clear: unset;">
            <b style="line-height: 2;"><code>comments</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="comments"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-save"
               value="Reporte revisado, valores correctos"
               data-component="body">
    <br>
<p>Optional comments about the report (max 500 chars). Example: <code>Reporte revisado, valores correctos</code></p>
        </div>
        </form>

                    <h2 id="iva-reports-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve">Approve IVA report</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Approves the report, changing its status to APPROVED.
This indicates the report has been reviewed and validated by an accountant
and is ready for submission to the SRI (Tax Authority).</p>
<p><strong>Approval means:</strong></p>
<ul>
<li>All values have been verified</li>
<li>Report is accurate and complete</li>
<li>Ready for tax authority submission</li>
<li>No further changes from taxpayer needed</li>
</ul>
<p><strong>Valid transitions:</strong></p>
<ul>
<li>SAVED ‚Üí APPROVED (direct approval without sending)</li>
<li>SENT ‚Üí APPROVED (after taxpayer received via email)</li>
</ul>
<p><strong>After approval, you can:</strong></p>
<ul>
<li>Send to SRI draft (<code>/send-sri-draft</code>)</li>
<li>Mark as manually declared (<code>/mark-declared</code>)</li>
<li>Reset if needed (<code>/recalculate</code>)</li>
</ul>

<span id="example-requests-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request PATCH \
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/approve" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}" \
    --data "{
    \"period\": \"2024-03\",
    \"comments\": \"Valores verificados, aprobado para env√≠o al SRI\"
}"
</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/approve"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

let body = {
    "period": "2024-03",
    "comments": "Valores verificados, aprobado para env√≠o al SRI"
};

fetch(url, {
    method: "PATCH",
    headers,
    body: JSON.stringify(body),
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/approve';
$response = $client-&gt;patch(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
        'json' =&gt; [
            'period' =&gt; '2024-03',
            'comments' =&gt; 'Valores verificados, aprobado para env√≠o al SRI',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/approve'
payload = {
    "period": "2024-03",
    "comments": "Valores verificados, aprobado para env√≠o al SRI"
}
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('PATCH', url, headers=headers, json=payload)
response.json()</code></pre></div>

</span>

<span id="example-responses-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve">
            <blockquote>
            <p>Example response (200, Successfully approved):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Report approved successfully&quot;,
    &quot;data&quot;: {
        &quot;report&quot;: {
            &quot;id&quot;: &quot;01HZXXX123ABC456&quot;,
            &quot;tax_payer_id&quot;: 123,
            &quot;period&quot;: &quot;2024-03-15&quot;,
            &quot;periodicity&quot;: &quot;monthly&quot;,
            &quot;status&quot;: &quot;approved&quot;,
            &quot;status_label&quot;: &quot;Aprobado&quot;,
            &quot;comments&quot;: [
                {
                    &quot;status&quot;: &quot;approved&quot;,
                    &quot;comment&quot;: &quot;Valores verificados, aprobado para env&iacute;o al SRI&quot;,
                    &quot;timestamp&quot;: &quot;2024-03-06T10:30:00Z&quot;
                }
            ],
            &quot;total_taxes_to_pay_iva&quot;: 1200,
            &quot;updated_at&quot;: &quot;2024-03-06T10:30:00.000000Z&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (400, Invalid status transition):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Cannot transition from draft to approved. Report must be in &#039;saved&#039; or &#039;sent&#039; status&quot;,
    &quot;code&quot;: &quot;INVALID_TRANSITION&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Report not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Report not found for period 2024-03&quot;,
    &quot;code&quot;: &quot;NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Validation error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;period&quot;: [
            &quot;Period must be in YYYY-MM format (e.g., 2024-03)&quot;
        ]
    }
}</code>
 </pre>
    </span>
<span id="execution-results-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve" hidden>
    <blockquote>Received response<span
                id="execution-response-status-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve" data-method="PATCH"
      data-path="api/v1/taxpayers/{taxNumber}/iva-reports/approve"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve"
                    onclick="tryItOut('PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve"
                    onclick="cancelTryOut('PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-purple">PATCH</small>
            <b><code>api/v1/taxpayers/{taxNumber}/iva-reports/approve</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                            <h4 class="fancy-heading-panel"><b>Body Parameters</b></h4>
        <div style=" padding-left: 28px;  clear: unset;">
            <b style="line-height: 2;"><code>period</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="period"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve"
               value="2024-03"
               data-component="body">
    <br>
<p>Period in YYYY-MM format. Example: <code>2024-03</code></p>
        </div>
                <div style=" padding-left: 28px;  clear: unset;">
            <b style="line-height: 2;"><code>comments</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="comments"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-approve"
               value="Valores verificados, aprobado para env√≠o al SRI"
               data-component="body">
    <br>
<p>Optional approval comments or notes (max 500 chars). Example: <code>Valores verificados, aprobado para env√≠o al SRI</code></p>
        </div>
        </form>

                    <h2 id="iva-reports-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject">Reject IVA report</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Rejects the report, changing its status to REJECTED.
This action requires detailed comments explaining why the report was rejected.
Used when errors or inconsistencies are found during review.</p>
<p><strong>Rejection means:</strong></p>
<ul>
<li>Report has errors or inconsistencies</li>
<li>Corrections are needed before approval</li>
<li>Report must be recalculated or edited</li>
<li>Clear feedback must be provided</li>
</ul>
<p><strong>Valid transitions:</strong></p>
<ul>
<li>SAVED ‚Üí REJECTED</li>
<li>SENT ‚Üí REJECTED (taxpayer or accountant found issues)</li>
</ul>
<p><strong>After rejection:</strong></p>
<ul>
<li>Report must be recalculated (<code>/recalculate</code>)</li>
<li>Then saved, reviewed, and re-approved</li>
</ul>
<p><strong>Important:</strong> Comments are REQUIRED (minimum 10 characters) to document the rejection reason.</p>

<span id="example-requests-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request PATCH \
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/reject" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}" \
    --data "{
    \"period\": \"2024-03\",
    \"comments\": \"Hay errores en las facturas de compras del d√≠a 15. Falta incluir factura #001-001-000123456\"
}"
</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/reject"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

let body = {
    "period": "2024-03",
    "comments": "Hay errores en las facturas de compras del d√≠a 15. Falta incluir factura #001-001-000123456"
};

fetch(url, {
    method: "PATCH",
    headers,
    body: JSON.stringify(body),
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/reject';
$response = $client-&gt;patch(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
        'json' =&gt; [
            'period' =&gt; '2024-03',
            'comments' =&gt; 'Hay errores en las facturas de compras del d√≠a 15. Falta incluir factura #001-001-000123456',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/reject'
payload = {
    "period": "2024-03",
    "comments": "Hay errores en las facturas de compras del d√≠a 15. Falta incluir factura #001-001-000123456"
}
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('PATCH', url, headers=headers, json=payload)
response.json()</code></pre></div>

</span>

<span id="example-responses-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject">
            <blockquote>
            <p>Example response (200, Successfully rejected):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Report rejected successfully&quot;,
    &quot;data&quot;: {
        &quot;report&quot;: {
            &quot;id&quot;: &quot;01HZXXX123ABC456&quot;,
            &quot;tax_payer_id&quot;: 123,
            &quot;period&quot;: &quot;2024-03-15&quot;,
            &quot;periodicity&quot;: &quot;monthly&quot;,
            &quot;status&quot;: &quot;rejected&quot;,
            &quot;status_label&quot;: &quot;Rechazado&quot;,
            &quot;comments&quot;: [
                {
                    &quot;status&quot;: &quot;rejected&quot;,
                    &quot;comment&quot;: &quot;Hay errores en las facturas de compras del d&iacute;a 15. Falta incluir factura #001-001-000123456&quot;,
                    &quot;timestamp&quot;: &quot;2024-03-06T11:00:00Z&quot;
                }
            ],
            &quot;total_taxes_to_pay_iva&quot;: 1200,
            &quot;updated_at&quot;: &quot;2024-03-06T11:00:00.000000Z&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (400, Invalid status transition):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Cannot transition from approved to rejected. Report must be in &#039;saved&#039; or &#039;sent&#039; status&quot;,
    &quot;code&quot;: &quot;INVALID_TRANSITION&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Report not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Report not found for period 2024-03&quot;,
    &quot;code&quot;: &quot;NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Missing comments):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;comments&quot;: [
            &quot;Comments are required when rejecting a report&quot;
        ]
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Comments too short):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;comments&quot;: [
            &quot;Comments must be at least 10 characters&quot;
        ]
    }
}</code>
 </pre>
    </span>
<span id="execution-results-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject" hidden>
    <blockquote>Received response<span
                id="execution-response-status-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject" data-method="PATCH"
      data-path="api/v1/taxpayers/{taxNumber}/iva-reports/reject"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject"
                    onclick="tryItOut('PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject"
                    onclick="cancelTryOut('PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-purple">PATCH</small>
            <b><code>api/v1/taxpayers/{taxNumber}/iva-reports/reject</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                            <h4 class="fancy-heading-panel"><b>Body Parameters</b></h4>
        <div style=" padding-left: 28px;  clear: unset;">
            <b style="line-height: 2;"><code>period</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="period"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject"
               value="2024-03"
               data-component="body">
    <br>
<p>Period in YYYY-MM format. Example: <code>2024-03</code></p>
        </div>
                <div style=" padding-left: 28px;  clear: unset;">
            <b style="line-height: 2;"><code>comments</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="comments"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-reject"
               value="Hay errores en las facturas de compras del d√≠a 15. Falta incluir factura #001-001-000123456"
               data-component="body">
    <br>
<p>Detailed reason for rejection (10-500 chars). Example: <code>Hay errores en las facturas de compras del d√≠a 15. Falta incluir factura #001-001-000123456</code></p>
        </div>
        </form>

                    <h2 id="iva-reports-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared">Mark report as declared</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Marks the report as DECLARED in your database.
This is a LOCAL action that does NOT interact with SRI services.</p>
<p><strong>When to use this endpoint:</strong></p>
<ul>
<li>You declared the report manually on the SRI website</li>
<li>You declared through another system or platform</li>
<li>You want to skip automatic SRI submission</li>
<li>You completed the declaration offline</li>
</ul>
<p><strong>What this does:</strong></p>
<ul>
<li>Changes report status to DECLARED</li>
<li>Records the status change in history</li>
<li>Marks the period as completed for this taxpayer</li>
<li>Does NOT send anything to external services</li>
</ul>
<p><strong>Valid transitions:</strong></p>
<ul>
<li>APPROVED ‚Üí DECLARED (skip SRI auto-submission)</li>
<li>SRI_SENDED_COMPLETED ‚Üí DECLARED (after SRI processing)</li>
</ul>
<p><strong>After marking as declared:</strong></p>
<ul>
<li>Report can still be recalculated if needed</li>
<li>PDFs can be uploaded (<code>/upload-pdfs</code> - not yet implemented)</li>
<li>Status can transition to SRI_DECLARED_CONFIRMED</li>
</ul>

<span id="example-requests-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request PATCH \
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/mark-declared" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}" \
    --data "{
    \"period\": \"2024-03\"
}"
</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/mark-declared"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

let body = {
    "period": "2024-03"
};

fetch(url, {
    method: "PATCH",
    headers,
    body: JSON.stringify(body),
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/mark-declared';
$response = $client-&gt;patch(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
        'json' =&gt; [
            'period' =&gt; '2024-03',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/mark-declared'
payload = {
    "period": "2024-03"
}
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('PATCH', url, headers=headers, json=payload)
response.json()</code></pre></div>

</span>

<span id="example-responses-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared">
            <blockquote>
            <p>Example response (200, Successfully marked):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Report marked as declared successfully&quot;,
    &quot;data&quot;: {
        &quot;report&quot;: {
            &quot;id&quot;: &quot;01HZXXX123ABC456&quot;,
            &quot;tax_payer_id&quot;: 123,
            &quot;period&quot;: &quot;2024-03-15&quot;,
            &quot;periodicity&quot;: &quot;monthly&quot;,
            &quot;status&quot;: &quot;declared&quot;,
            &quot;status_label&quot;: &quot;Declarado&quot;,
            &quot;total_taxes_to_pay_iva&quot;: 1200,
            &quot;updated_at&quot;: &quot;2024-03-20T09:15:00.000000Z&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (400, Invalid status transition):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Cannot transition from draft to declared. Report must be in &#039;approved&#039; or &#039;sri_sended_completed&#039; status&quot;,
    &quot;code&quot;: &quot;INVALID_TRANSITION&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Report not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Report not found for period 2024-03&quot;,
    &quot;code&quot;: &quot;NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Validation error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;period&quot;: [
            &quot;Period must be in YYYY-MM format (e.g., 2024-03)&quot;
        ]
    }
}</code>
 </pre>
    </span>
<span id="execution-results-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared" hidden>
    <blockquote>Received response<span
                id="execution-response-status-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared" data-method="PATCH"
      data-path="api/v1/taxpayers/{taxNumber}/iva-reports/mark-declared"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared"
                    onclick="tryItOut('PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared"
                    onclick="cancelTryOut('PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-purple">PATCH</small>
            <b><code>api/v1/taxpayers/{taxNumber}/iva-reports/mark-declared</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                            <h4 class="fancy-heading-panel"><b>Body Parameters</b></h4>
        <div style=" padding-left: 28px;  clear: unset;">
            <b style="line-height: 2;"><code>period</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="period"                data-endpoint="PATCHapi-v1-taxpayers--taxNumber--iva-reports-mark-declared"
               value="2024-03"
               data-component="body">
    <br>
<p>Period in YYYY-MM format. Example: <code>2024-03</code></p>
        </div>
        </form>

                    <h2 id="iva-reports-POSTapi-v1-taxpayers--taxNumber--iva-reports-send">Send IVA report via email</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Sends the IVA report via email to the taxpayer or specified recipients for review and approval.
This is an EXTERNAL COMMUNICATION action that actually sends emails through SMTP.</p>
<p><strong>What this endpoint does:</strong></p>
<ol>
<li>Validates the report is in SAVED or SENT status</li>
<li>Generates a PDF of the report (if not cached)</li>
<li>Sends email with PDF attachment to specified addresses</li>
<li>Records each recipient in share logs for audit</li>
<li>Changes report status to SENT (if not already)</li>
<li>Registers status change in history</li>
</ol>
<p><strong>Email recipients:</strong></p>
<ul>
<li>If <code>emails</code> parameter provided: sends to those addresses</li>
<li>If <code>emails</code> is empty: uses taxpayer's registered email</li>
<li>Maximum 10 email addresses per request</li>
</ul>
<p><strong>Valid transitions:</strong></p>
<ul>
<li>SAVED ‚Üí SENT (first send)</li>
<li>SENT ‚Üí SENT (resend to same or different recipients)</li>
</ul>
<p><strong>Email content includes:</strong></p>
<ul>
<li>PDF report attachment</li>
<li>Optional comments/message</li>
<li>Link to view report online</li>
<li>Instructions for approval/rejection</li>
</ul>
<p><strong>Note:</strong> This operation may take 5-10 seconds depending on SMTP server response.</p>

<span id="example-requests-POSTapi-v1-taxpayers--taxNumber--iva-reports-send">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request POST \
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/send" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}" \
    --data "{
    \"period\": \"2024-03\",
    \"emails\": [
        \"cliente@example.com\",
        \"contabilidad@empresa.com\"
    ],
    \"comments\": \"Por favor revisar los totales de ventas y confirmar\"
}"
</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/send"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

let body = {
    "period": "2024-03",
    "emails": [
        "cliente@example.com",
        "contabilidad@empresa.com"
    ],
    "comments": "Por favor revisar los totales de ventas y confirmar"
};

fetch(url, {
    method: "POST",
    headers,
    body: JSON.stringify(body),
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/send';
$response = $client-&gt;post(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
        'json' =&gt; [
            'period' =&gt; '2024-03',
            'emails' =&gt; [
                'cliente@example.com',
                'contabilidad@empresa.com',
            ],
            'comments' =&gt; 'Por favor revisar los totales de ventas y confirmar',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/send'
payload = {
    "period": "2024-03",
    "emails": [
        "cliente@example.com",
        "contabilidad@empresa.com"
    ],
    "comments": "Por favor revisar los totales de ventas y confirmar"
}
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('POST', url, headers=headers, json=payload)
response.json()</code></pre></div>

</span>

<span id="example-responses-POSTapi-v1-taxpayers--taxNumber--iva-reports-send">
            <blockquote>
            <p>Example response (200, Successfully sent):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Report sent successfully&quot;,
    &quot;data&quot;: {
        &quot;report&quot;: {
            &quot;id&quot;: &quot;01HZXXX123ABC456&quot;,
            &quot;tax_payer_id&quot;: 123,
            &quot;period&quot;: &quot;2024-03-15&quot;,
            &quot;periodicity&quot;: &quot;monthly&quot;,
            &quot;status&quot;: &quot;sent&quot;,
            &quot;status_label&quot;: &quot;Enviado para revisi&oacute;n&quot;,
            &quot;report_comments&quot;: &quot;Por favor revisar los totales de ventas y confirmar&quot;,
            &quot;public_link&quot;: &quot;https://app.taxo.ec/public/reports/abc123def&quot;,
            &quot;total_taxes_to_pay_iva&quot;: 1200,
            &quot;updated_at&quot;: &quot;2024-03-06T12:00:00.000000Z&quot;
        },
        &quot;recipients&quot;: [
            &quot;cliente@example.com&quot;,
            &quot;contabilidad@empresa.com&quot;
        ]
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (400, Invalid status):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Cannot send report from status draft. Report must be in &#039;saved&#039; or &#039;sent&#039; status&quot;,
    &quot;code&quot;: &quot;INVALID_STATUS&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Report not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Report not found for period 2024-03&quot;,
    &quot;code&quot;: &quot;NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, No recipients):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;emails&quot;: [
            &quot;No email addresses provided and taxpayer has no registered email&quot;
        ]
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Too many emails):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;emails&quot;: [
            &quot;Cannot send to more than 10 email addresses&quot;
        ]
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (503, SMTP error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Failed to send email: Connection to SMTP server failed&quot;,
    &quot;code&quot;: &quot;EMAIL_SEND_FAILED&quot;
}</code>
 </pre>
    </span>
<span id="execution-results-POSTapi-v1-taxpayers--taxNumber--iva-reports-send" hidden>
    <blockquote>Received response<span
                id="execution-response-status-POSTapi-v1-taxpayers--taxNumber--iva-reports-send"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-POSTapi-v1-taxpayers--taxNumber--iva-reports-send"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-POSTapi-v1-taxpayers--taxNumber--iva-reports-send" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-POSTapi-v1-taxpayers--taxNumber--iva-reports-send">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-POSTapi-v1-taxpayers--taxNumber--iva-reports-send" data-method="POST"
      data-path="api/v1/taxpayers/{taxNumber}/iva-reports/send"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('POSTapi-v1-taxpayers--taxNumber--iva-reports-send', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-POSTapi-v1-taxpayers--taxNumber--iva-reports-send"
                    onclick="tryItOut('POSTapi-v1-taxpayers--taxNumber--iva-reports-send');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-POSTapi-v1-taxpayers--taxNumber--iva-reports-send"
                    onclick="cancelTryOut('POSTapi-v1-taxpayers--taxNumber--iva-reports-send');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-POSTapi-v1-taxpayers--taxNumber--iva-reports-send"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-black">POST</small>
            <b><code>api/v1/taxpayers/{taxNumber}/iva-reports/send</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                            <h4 class="fancy-heading-panel"><b>Body Parameters</b></h4>
        <div style=" padding-left: 28px;  clear: unset;">
            <b style="line-height: 2;"><code>period</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="period"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send"
               value="2024-03"
               data-component="body">
    <br>
<p>Period in YYYY-MM format. Example: <code>2024-03</code></p>
        </div>
                <div style=" padding-left: 28px;  clear: unset;">
            <b style="line-height: 2;"><code>emails</code></b>&nbsp;&nbsp;
<small>string[]</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="emails[0]"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send"
               data-component="body">
        <input type="text" style="display: none"
               name="emails[1]"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send"
               data-component="body">
    <br>
<p>Optional array of email addresses (max 10).</p>
        </div>
                <div style=" padding-left: 28px;  clear: unset;">
            <b style="line-height: 2;"><code>comments</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="comments"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send"
               value="Por favor revisar los totales de ventas y confirmar"
               data-component="body">
    <br>
<p>Optional message/comments to include in email (max 500 chars). Example: <code>Por favor revisar los totales de ventas y confirmar</code></p>
        </div>
        </form>

                    <h2 id="iva-reports-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft">Send report to SRI draft</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Sends the report to the SRI (Ecuadorian Tax Authority) draft/borrador system.
This creates a DRAFT in the SRI system for validation, NOT a final declaration.
This is an EXTERNAL COMMUNICATION action that calls SRI web services.</p>
<p><strong>Important notes:</strong></p>
<ul>
<li>This creates a DRAFT (borrador) in SRI, not a final declaration</li>
<li>After draft creation, you must finalize it on SRI website</li>
<li>The process is asynchronous (uses webhooks or timeout)</li>
<li>May take several minutes to complete</li>
</ul>
<p><strong>The complete workflow:</strong></p>
<ol>
<li>Validates report is APPROVED or ERROR (for retry)</li>
<li>Creates JSON representation of report (Form 104)</li>
<li>Calls SRI API to create draft</li>
<li>Changes status to SRI_SENDED (processing)</li>
<li>Queues timeout job (15 minutes safety net)</li>
<li>Awaits SRI webhook response:
<ul>
<li>Success ‚Üí SRI_SENDED_COMPLETED</li>
<li>Failure ‚Üí ERROR</li>
</ul></li>
<li>Timeout if no webhook received</li>
</ol>
<p><strong>Valid transitions:</strong></p>
<ul>
<li>APPROVED ‚Üí SRI_SENDED (first submission)</li>
<li>ERROR ‚Üí SRI_SENDED (retry after error)</li>
</ul>
<p><strong>After successful SRI draft:</strong></p>
<ul>
<li>Wait for webhook (usually 2-5 minutes)</li>
<li>Check report status via GET endpoint</li>
<li>When SRI_SENDED_COMPLETED, mark as declared</li>
</ul>
<p><strong>Requirements:</strong></p>
<ul>
<li>Taxpayer must have valid digital signature configured</li>
<li>All report values must be valid</li>
<li>SRI services must be operational</li>
</ul>
<p><strong>Note:</strong> This operation typically takes 5-10 seconds for the API call,
plus 2-5 minutes for SRI processing (webhook notification).</p>

<span id="example-requests-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request POST \
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/send-sri-draft" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}" \
    --data "{
    \"period\": \"2024-03\"
}"
</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/send-sri-draft"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

let body = {
    "period": "2024-03"
};

fetch(url, {
    method: "POST",
    headers,
    body: JSON.stringify(body),
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/send-sri-draft';
$response = $client-&gt;post(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
        'json' =&gt; [
            'period' =&gt; '2024-03',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/iva-reports/send-sri-draft'
payload = {
    "period": "2024-03"
}
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('POST', url, headers=headers, json=payload)
response.json()</code></pre></div>

</span>

<span id="example-responses-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft">
            <blockquote>
            <p>Example response (200, Successfully sent to SRI):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Report sent to SRI draft successfully&quot;,
    &quot;data&quot;: {
        &quot;report&quot;: {
            &quot;id&quot;: &quot;01HZXXX123ABC456&quot;,
            &quot;tax_payer_id&quot;: 123,
            &quot;period&quot;: &quot;2024-03-15&quot;,
            &quot;periodicity&quot;: &quot;monthly&quot;,
            &quot;status&quot;: &quot;sri_sended&quot;,
            &quot;status_label&quot;: &quot;Borrador SRI en progreso&quot;,
            &quot;total_taxes_to_pay_iva&quot;: 1200,
            &quot;updated_at&quot;: &quot;2024-03-07T10:00:00.000000Z&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (400, Invalid status):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Cannot send to SRI from status saved. Report must be in &#039;approved&#039; or &#039;error&#039; status&quot;,
    &quot;code&quot;: &quot;INVALID_STATUS&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Report not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Report not found for period 2024-03&quot;,
    &quot;code&quot;: &quot;NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (500, JSON creation failed):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Failed to create report JSON: Missing required field&quot;,
    &quot;code&quot;: &quot;JSON_CREATION_FAILED&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (503, SRI unavailable):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;SRI service is unavailable or timeout&quot;,
    &quot;code&quot;: &quot;SRI_UNAVAILABLE&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (503, SRI error response):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;SRI service returned an error&quot;,
    &quot;code&quot;: &quot;SRI_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;sri_response&quot;: {
            &quot;status&quot;: &quot;error&quot;,
            &quot;message&quot;: &quot;Invalid signature&quot;
        }
    }
}</code>
 </pre>
    </span>
<span id="execution-results-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft" hidden>
    <blockquote>Received response<span
                id="execution-response-status-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft" data-method="POST"
      data-path="api/v1/taxpayers/{taxNumber}/iva-reports/send-sri-draft"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft"
                    onclick="tryItOut('POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft"
                    onclick="cancelTryOut('POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-black">POST</small>
            <b><code>api/v1/taxpayers/{taxNumber}/iva-reports/send-sri-draft</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                            <h4 class="fancy-heading-panel"><b>Body Parameters</b></h4>
        <div style=" padding-left: 28px;  clear: unset;">
            <b style="line-height: 2;"><code>period</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="period"                data-endpoint="POSTapi-v1-taxpayers--taxNumber--iva-reports-send-sri-draft"
               value="2024-03"
               data-component="body">
    <br>
<p>Period in YYYY-MM format. Example: <code>2024-03</code></p>
        </div>
        </form>

                <h1 id="received-documents">Received Documents</h1>

    <p>API endpoints for managing received documents (purchase documents from suppliers).</p>
<h2>Document Types</h2>
<p>Received documents include:</p>
<ul>
<li><strong>Invoices (Facturas de Compra)</strong>: Standard purchase invoices from suppliers</li>
<li><strong>Credit Notes</strong>: Applied to invoices</li>
<li><strong>Withholdings</strong>: Tax withholding documents</li>
</ul>
<h2>Filtering &amp; Categorization</h2>
<h3>Date Filtering</h3>
<ul>
<li><strong>Default</strong>: Current month if no dates provided</li>
<li><strong>start_date</strong>: Filter from this date (YYYY-MM-DD)</li>
<li><strong>end_date</strong>: Filter until this date (YYYY-MM-DD)</li>
</ul>
<h3>Category Filtering</h3>
<p>The system supports two types of categorization:</p>
<ol>
<li><strong>Document-level categorization (mono-category)</strong>: All items in the document share the same category</li>
<li><strong>Item-level categorization (multi-category)</strong>: Each line item has its own category</li>
</ol>
<p><strong>How Category Filters Work:</strong></p>
<p>Both category filters search at the <strong>item level</strong> (bill_items table). If <strong>any item</strong> in a document
matches the filter criteria, the <strong>entire document</strong> is included in the results.</p>
<p><strong>Example:</strong></p>
<pre><code>Document #001:
  - Item 1: Category "Office Supplies" (id: 123)
  - Item 2: Category "Services" (id: 456)
  - Item 3: Category "Office Supplies" (id: 123)

Filter: category_id[]=123
Result: ‚úì Document #001 is included (has items with category 123)</code></pre>
<p><strong>Category filters:</strong></p>
<ul>
<li>
<p><code>category_id[]</code>: Filter by specific category ID(s) - array parameter (can pass multiple)</p>
<p><strong>Searches in:</strong> <code>bill_items.tax_payer_category_id</code> (line item categories)</p>
<p><strong>Note:</strong> To obtain the available category IDs for a taxpayer, use the categories endpoint:
<code>GET /api/v1/taxpayers/{taxNumber}/categories</code></p>
<p>Each taxpayer has their own custom categories. You must retrieve the category IDs
from this endpoint before filtering by <code>category_id[]</code>.</p>
</li>
<li>
<p><code>category_type</code>: Filter by expense type - single value parameter</p>
<p><strong>Searches in:</strong> <code>bills.category_types</code> (JSON field that summarizes item categories)</p>
<p><strong>Available values:</strong></p>
<ul>
<li><code>commercial_expenses</code>: Business-related expenses (Actividad Comercial)</li>
<li><code>personal_expenses</code>: Personal expenses (Gasto Personal)</li>
<li><code>non_deductible_expenses</code>: Non-deductible expenses (No Deducible)</li>
</ul>
</li>
</ul>
<h3>Deductibility Filtering</h3>
<ul>
<li><code>deductible_type</code>: Filter by tax deductibility - single value parameter
<ul>
<li><code>deductible</code>: Tax-deductible expenses (Con derecho a cr√©dito tributario)</li>
<li><code>non_deductible</code>: Non-deductible expenses (Sin derecho a cr√©dito tributario)</li>
</ul></li>
</ul>
<h3>Status Filtering</h3>
<ul>
<li><code>status</code>: Filter by document status - single value parameter
<ul>
<li><code>AUTORIZADO</code>: Authorized/valid documents</li>
<li><code>ANULADO</code>: Voided documents</li>
</ul></li>
</ul>
<h3>Search &amp; Other Filters</h3>
<ul>
<li><code>search</code>: Search in provider name, RUC, email, phone, document number, or access key</li>
<li><code>uncategorized</code>: Filter uncategorized documents (boolean: true/false)</li>
<li><code>origin</code>: Filter by document origin/source system - single value parameter
<ul>
<li><code>tws</code>: Documents automatically processed by Taxo Web Services from SRI</li>
<li><code>xml-import</code>: Documents manually imported from XML files</li>
<li><code>physical-upload</code>: Physical documents uploaded/entered manually by user</li>
</ul></li>
</ul>
<p><strong>Note:</strong> Most filters accept a single value.
Only <code>category_id</code> accepts multiple values using array notation <code>category_id[]=123&amp;category_id[]=456</code>.</p>
<h2>Sorting</h2>
<p>Default sort: <code>-date_only,-bill_number</code> (newest first, then by number descending)</p>
<p>Available sort fields (prefix with <code>-</code> for descending):</p>
<ul>
<li><code>date_only</code>: Document date</li>
<li><code>bill_number</code>: Document number</li>
<li><code>contact_name</code>: Provider name</li>
<li><code>sub_total</code>: Subtotal amount</li>
<li><code>total</code>: Total amount</li>
</ul>
<p><strong>Example:</strong> <code>sort=-total,date_only</code> (highest total first, then oldest date)</p>
<h2>Important Notes</h2>
<ol>
<li><strong>Consistent Results</strong>: This API uses the same services and repositories as the UI, ensuring identical results</li>
<li><strong>Performance</strong>: The endpoint uses optimized queries with lazy loading for related data</li>
<li><strong>Pagination</strong>: Results are paginated (default 20 items per page, max 100)</li>
<li><strong>Timezone</strong>: All dates are in UTC. Document dates (<code>billed_at</code>) show local Ecuador time</li>
</ol>

                                <h2 id="received-documents-GETapi-v1-taxpayers--taxNumber--received">List received documents for a taxpayer</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Retrieves a paginated list of received documents (purchase invoices) for a specific taxpayer.
This endpoint returns the same data as the UI received documents listing.</p>
<p><strong>IMPORTANT:</strong> This is a GET request. All parameters must be sent as query string parameters in the URL.
Do NOT send a request body.</p>
<p><strong>Example URLs:</strong></p>
<p>Basic query with date range:</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received?start_date=2024-01-01&amp;end_date=2024-01-31&amp;page=1&amp;per_page=20</code></pre>
<p>With filters for commercial deductible expenses:</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received?category_type=commercial_expenses&amp;deductible_type=deductible&amp;status=AUTORIZADO</code></pre>
<p><strong>Filter Format:</strong> All filters use top-level query parameters (consistent with TaxPayers and IVA Reports endpoints).</p>
<p><strong>Filtering Examples:</strong></p>
<p>Filter by category type (commercial expenses only):</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received?category_type=commercial_expenses</code></pre>
<p>Filter by deductibility (only deductible):</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received?deductible_type=deductible</code></pre>
<p>Filter by specific categories (multiple IDs allowed):</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received?category_id[]=123&amp;category_id[]=456</code></pre>
<p><em>Note: First retrieve available categories from GET /api/v1/taxpayers/{taxNumber}/categories</em></p>
<p>Filter by status (authorized documents only):</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received?status=AUTORIZADO</code></pre>
<p>Search providers:</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received?search=PROVEEDOR</code></pre>
<p>Filter only uncategorized:</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received?uncategorized=true</code></pre>
<p>Filter by origin (electronic documents only):</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received?origin=tws</code></pre>
<p>Multiple filters combined (real use case):</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received?start_date=2024-01-01&amp;end_date=2024-01-31&amp;category_type=commercial_expenses&amp;deductible_type=deductible&amp;status=AUTORIZADO&amp;sort=-total</code></pre>

<span id="example-requests-GETapi-v1-taxpayers--taxNumber--received">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request GET \
    --get "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}"</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

fetch(url, {
    method: "GET",
    headers,
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received';
$response = $client-&gt;get(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received'
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('GET', url, headers=headers)
response.json()</code></pre></div>

</span>

<span id="example-responses-GETapi-v1-taxpayers--taxNumber--received">
            <blockquote>
            <p>Example response (200, Success - with bills):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Received documents retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;bills&quot;: [
            {
                &quot;id&quot;: 12345,
                &quot;ulid&quot;: &quot;01HZXXX123ABC456&quot;,
                &quot;bill_number&quot;: &quot;001-001-000001234&quot;,
                &quot;access_key&quot;: &quot;0101202401172605128500110010010000012341234567813&quot;,
                &quot;billed_at&quot;: &quot;2024-01-15T14:30:00.000000Z&quot;,
                &quot;date_only&quot;: &quot;2024-01-15&quot;,
                &quot;bill_status&quot;: &quot;AUTORIZADO&quot;,
                &quot;is_physical&quot;: false,
                &quot;is_sale_note&quot;: false,
                &quot;is_locked&quot;: false,
                &quot;lock_reason&quot;: null,
                &quot;origin&quot;: &quot;tws&quot;,
                &quot;document_type&quot;: &quot;electronic&quot;,
                &quot;issuer&quot;: {
                    &quot;tax_number&quot;: &quot;1234567890001&quot;,
                    &quot;business_name&quot;: &quot;PROVEEDOR DEMO S.A.&quot;,
                    &quot;trade_name&quot;: &quot;PROVEEDOR DEMO&quot;,
                    &quot;address&quot;: &quot;Av. Principal 123 y Secundaria&quot;,
                    &quot;email&quot;: &quot;proveedor@example.com&quot;
                },
                &quot;payment&quot;: {
                    &quot;payment_method&quot;: &quot;01&quot;,
                    &quot;payment_amount&quot;: 112
                },
                &quot;totals&quot;: {
                    &quot;subtotal_vat_zero&quot;: 0,
                    &quot;subtotal_vat_twelve&quot;: 100,
                    &quot;subtotal_vat_fifteen&quot;: 0,
                    &quot;sub_total&quot;: 100,
                    &quot;sub_total_show&quot;: 100,
                    &quot;discount&quot;: 0,
                    &quot;total&quot;: 112
                },
                &quot;taxes&quot;: {
                    &quot;vat_twelve&quot;: 12,
                    &quot;vat_fifteen&quot;: 0,
                    &quot;total_tax&quot;: 12
                },
                &quot;categories&quot;: [
                    {
                        &quot;id&quot;: 45,
                        &quot;category_id&quot;: 12,
                        &quot;name&quot;: &quot;Servicios Profesionales&quot;,
                        &quot;color&quot;: &quot;bg-blue-500&quot;,
                        &quot;icon&quot;: &quot;M12 6v6m0 0v6m0-6h6m-6 0H6&quot;,
                        &quot;count&quot;: 1
                    }
                ],
                &quot;category_types&quot;: [
                    {
                        &quot;category_type&quot;: &quot;commercial_expenses&quot;,
                        &quot;count&quot;: 1
                    }
                ],
                &quot;deductible_types&quot;: [
                    {
                        &quot;deductible_type&quot;: &quot;deductible&quot;,
                        &quot;count&quot;: 1
                    }
                ],
                &quot;categorized_by&quot;: [
                    &quot;manual&quot;
                ],
                &quot;has_credit_notes&quot;: false,
                &quot;has_withholdings&quot;: false,
                &quot;voided_at&quot;: null,
                &quot;voided_origin&quot;: null,
                &quot;created_at&quot;: &quot;2024-01-15T14:35:00.000000Z&quot;,
                &quot;updated_at&quot;: &quot;2024-01-15T14:35:00.000000Z&quot;
            }
        ]
    },
    &quot;meta&quot;: {
        &quot;pagination&quot;: {
            &quot;current_page&quot;: 1,
            &quot;per_page&quot;: 20,
            &quot;total&quot;: 45,
            &quot;total_pages&quot;: 3,
            &quot;from&quot;: 1,
            &quot;to&quot;: 20
        },
        &quot;filters_applied&quot;: {
            &quot;start_date&quot;: &quot;2024-01-01&quot;,
            &quot;end_date&quot;: &quot;2024-01-31&quot;,
            &quot;category_type&quot;: &quot;commercial_expenses&quot;,
            &quot;deductible_type&quot;: &quot;deductible&quot;,
            &quot;status&quot;: &quot;AUTORIZADO&quot;,
            &quot;sort&quot;: &quot;-date_only,-bill_number&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (200, Success - no bills found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Received documents retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;bills&quot;: []
    },
    &quot;meta&quot;: {
        &quot;pagination&quot;: {
            &quot;current_page&quot;: 1,
            &quot;per_page&quot;: 20,
            &quot;total&quot;: 0,
            &quot;total_pages&quot;: 0,
            &quot;from&quot;: 0,
            &quot;to&quot;: 0
        },
        &quot;filters_applied&quot;: {
            &quot;start_date&quot;: &quot;2024-12-01&quot;,
            &quot;end_date&quot;: &quot;2024-12-31&quot;,
            &quot;sort&quot;: &quot;-date_only,-bill_number&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (401, Unauthorized):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Invalid API key or organization ID&quot;,
    &quot;code&quot;: &quot;UNAUTHORIZED&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Taxpayer not found):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Taxpayer not found&quot;,
    &quot;code&quot;: &quot;NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Invalid filter):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;start_date&quot;: [
            &quot;The start date field must be a valid date in YYYY-MM-DD format&quot;
        ],
        &quot;per_page&quot;: [
            &quot;The per page must not be greater than 100&quot;
        ]
    }
}</code>
 </pre>
    </span>
<span id="execution-results-GETapi-v1-taxpayers--taxNumber--received" hidden>
    <blockquote>Received response<span
                id="execution-response-status-GETapi-v1-taxpayers--taxNumber--received"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-GETapi-v1-taxpayers--taxNumber--received"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-GETapi-v1-taxpayers--taxNumber--received" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-GETapi-v1-taxpayers--taxNumber--received">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-GETapi-v1-taxpayers--taxNumber--received" data-method="GET"
      data-path="api/v1/taxpayers/{taxNumber}/received"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('GETapi-v1-taxpayers--taxNumber--received', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-GETapi-v1-taxpayers--taxNumber--received"
                    onclick="tryItOut('GETapi-v1-taxpayers--taxNumber--received');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-GETapi-v1-taxpayers--taxNumber--received"
                    onclick="cancelTryOut('GETapi-v1-taxpayers--taxNumber--received');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-GETapi-v1-taxpayers--taxNumber--received"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-green">GET</small>
            <b><code>api/v1/taxpayers/{taxNumber}/received</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>Query Parameters</b></h4>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>start_date</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="start_date"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value=""
               data-component="query">
    <br>
<p>Start date for filtering (YYYY-MM-DD). Defaults to first day of current month.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>end_date</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="end_date"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value=""
               data-component="query">
    <br>
<p>End date for filtering (YYYY-MM-DD). Defaults to last day of current month.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>page</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="page"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value=""
               data-component="query">
    <br>
<p>Page number for pagination. Default: 1.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>per_page</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="per_page"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value=""
               data-component="query">
    <br>
<p>Items per page (1-100). Default: 20.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>sort</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="sort"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value=""
               data-component="query">
    <br>
<p>Sort field. Prefix with - for descending. Default: -date_only,-bill_number.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>category_id[]</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="category_id.0"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value=""
               data-component="query">
    <br>
<p>Filter by category ID(s). Can pass multiple values using array notation. To obtain available category IDs for the taxpayer, use GET /api/v1/taxpayers/{taxNumber}/categories.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>category_type</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="category_type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value=""
               data-component="query">
    <br>
<p>Filter by expense type. Must be one of: commercial_expenses, personal_expenses, non_deductible_expenses.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>deductible_type</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="deductible_type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value=""
               data-component="query">
    <br>
<p>Filter by tax deductibility. Must be one of: deductible, non_deductible.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>status</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="status"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value=""
               data-component="query">
    <br>
<p>Filter by document status. Must be one of: AUTORIZADO, ANULADO.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>search</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="search"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value=""
               data-component="query">
    <br>
<p>Search in provider name, document number, access key, RUC, email, or phone.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>uncategorized</code></b>&nbsp;&nbsp;
<small>boolean</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <label data-endpoint="GETapi-v1-taxpayers--taxNumber--received" style="display: none">
            <input type="radio" name="uncategorized"
                   value="1"
                   data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
                   data-component="query"             >
            <code>true</code>
        </label>
        <label data-endpoint="GETapi-v1-taxpayers--taxNumber--received" style="display: none">
            <input type="radio" name="uncategorized"
                   value="0"
                   data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
                   data-component="query"             >
            <code>false</code>
        </label>
    <br>
<p>Filter only uncategorized documents.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>origin</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="origin"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received"
               value=""
               data-component="query">
    <br>
<p>Filter by document origin/source system. Must be one of: tws, xml-import, physical-upload.</p>
            </div>
                </form>

                    <h2 id="received-documents-GETapi-v1-taxpayers--taxNumber--received-accumulated">Get accumulated totals for received documents</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Retrieves aggregated totals and statistics for received documents based on the applied filters.
This endpoint complements the received documents listing endpoint by providing calculated totals.</p>
<p><strong>IMPORTANT:</strong> This is a GET request. All parameters must be sent as query string parameters in the URL.
Do NOT send a request body.</p>
<p><strong>What This Endpoint Returns:</strong></p>
<ul>
<li><strong>Subtotals by VAT rate</strong>: Detailed breakdown of subtotals for each VAT rate (15%, 14%, 13%, 12%, 5%, 0%, exempt, not subject)</li>
<li><strong>VAT amounts</strong>: Total VAT collected at each rate</li>
<li><strong>Discounts</strong>: Discounts applied at each VAT rate</li>
<li><strong>Header totals</strong>: Simplified totals (subtotal, taxes, total)</li>
<li><strong>Document counts</strong>: Total documents, categorized, uncategorized, voided</li>
<li><strong>Applied filters</strong>: Summary of which filters were used</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Display statistics cards in dashboard (like UI)</li>
<li>Generate financial reports</li>
<li>Validate VAT calculations</li>
<li>Monitor categorization progress</li>
<li>Calculate tax deductions</li>
</ul>
<p><strong>Example URLs:</strong></p>
<p>Get totals for current month:</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received/accumulated</code></pre>
<p>Get totals for specific date range:</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received/accumulated?start_date=2024-01-01&amp;end_date=2024-01-31</code></pre>
<p>Get totals for commercial deductible expenses:</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received/accumulated?category_type=commercial_expenses&amp;deductible_type=deductible</code></pre>
<p><strong>Filters:</strong></p>
<p>This endpoint accepts the <strong>same filters</strong> as the bills listing endpoint:</p>
<ul>
<li><code>start_date</code>, <code>end_date</code>: Date range (defaults to current month)</li>
<li><code>category_id[]</code>: Specific category IDs (array)</li>
<li><code>category_type</code>: Expense type (commercial_expenses, personal_expenses, non_deductible_expenses)</li>
<li><code>deductible_type</code>: Tax deductibility (deductible, non_deductible)</li>
<li><code>status</code>: Document status (AUTORIZADO, ANULADO)</li>
<li><code>search</code>: Search in provider name, RUC, document number, etc.</li>
<li><code>uncategorized</code>: Only uncategorized documents (true/false)</li>
<li><code>origin</code>: Document origin (electronic, physical)</li>
</ul>
<p><strong>Note:</strong> Pagination parameters (page, per_page) and sort are ignored as this endpoint returns a single aggregated result.</p>

<span id="example-requests-GETapi-v1-taxpayers--taxNumber--received-accumulated">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request GET \
    --get "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received/accumulated" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}"</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received/accumulated"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

fetch(url, {
    method: "GET",
    headers,
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received/accumulated';
$response = $client-&gt;get(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received/accumulated'
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('GET', url, headers=headers)
response.json()</code></pre></div>

</span>

<span id="example-responses-GETapi-v1-taxpayers--taxNumber--received-accumulated">
            <blockquote>
            <p>Example response (200, Success - Current month totals):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Received documents accumulated totals retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;totals&quot;: {
            &quot;subtotal_vat_fifteen_sum&quot;: 75.29,
            &quot;discount_vat_fifteen_sum&quot;: 0,
            &quot;vat_fifteen_sum&quot;: 11.28,
            &quot;subtotal_vat_fourteen_sum&quot;: 0,
            &quot;discount_vat_fourteen_sum&quot;: 0,
            &quot;vat_fourteen_sum&quot;: 0,
            &quot;subtotal_vat_thirteen_sum&quot;: 0,
            &quot;discount_vat_thirteen_sum&quot;: 0,
            &quot;vat_thirteen_sum&quot;: 0,
            &quot;subtotal_vat_twelve_sum&quot;: 0,
            &quot;discount_vat_twelve_sum&quot;: 0,
            &quot;vat_twelve_sum&quot;: 0,
            &quot;subtotal_vat_five_sum&quot;: 0,
            &quot;discount_vat_five_sum&quot;: 0,
            &quot;vat_five_sum&quot;: 0,
            &quot;subtotal_vat_special_sum&quot;: 0,
            &quot;discount_vat_special_sum&quot;: 0,
            &quot;vat_special_sum&quot;: 0,
            &quot;subtotal_vat_zero_sum&quot;: 0,
            &quot;discount_vat_zero_sum&quot;: 0,
            &quot;subtotal_vat_exempt_sum&quot;: 0,
            &quot;discount_vat_exempt_sum&quot;: 0,
            &quot;subtotal_vat_not_subject_sum&quot;: 0,
            &quot;discount_vat_not_subject_sum&quot;: 0,
            &quot;sub_total_sum&quot;: 75.29,
            &quot;tip_sum&quot;: 0,
            &quot;subsidy_sum&quot;: 0,
            &quot;discount_sum&quot;: 0,
            &quot;total_sum&quot;: 86.57,
            &quot;subtotal_header&quot;: 75.29,
            &quot;taxes_header&quot;: 11.28,
            &quot;subtotal_taxes_header&quot;: 86.57,
            &quot;total_header&quot;: 86.57,
            &quot;document_count&quot;: 3,
            &quot;categorized_document_count&quot;: 3,
            &quot;uncategorized_document_count&quot;: 0,
            &quot;voided_document_count&quot;: 0
        }
    },
    &quot;meta&quot;: {
        &quot;filters_applied&quot;: {
            &quot;date_range&quot;: {
                &quot;start_date&quot;: &quot;2024-12-01&quot;,
                &quot;end_date&quot;: &quot;2024-12-31&quot;
            }
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (200, Success - Filtered by category type):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Received documents accumulated totals retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;totals&quot;: {
            &quot;subtotal_vat_fifteen_sum&quot;: 50,
            &quot;vat_fifteen_sum&quot;: 7.5,
            &quot;subtotal_vat_zero_sum&quot;: 25,
            &quot;sub_total_sum&quot;: 75,
            &quot;total_sum&quot;: 82.5,
            &quot;subtotal_header&quot;: 75,
            &quot;taxes_header&quot;: 7.5,
            &quot;total_header&quot;: 82.5,
            &quot;document_count&quot;: 5,
            &quot;categorized_document_count&quot;: 5,
            &quot;uncategorized_document_count&quot;: 0,
            &quot;voided_document_count&quot;: 0
        }
    },
    &quot;meta&quot;: {
        &quot;filters_applied&quot;: {
            &quot;date_range&quot;: {
                &quot;start_date&quot;: &quot;2024-01-01&quot;,
                &quot;end_date&quot;: &quot;2024-01-31&quot;
            },
            &quot;category_type&quot;: &quot;commercial_expenses&quot;,
            &quot;deductible_type&quot;: &quot;deductible&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (401, Unauthorized - Invalid API Key):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Invalid API key&quot;,
    &quot;code&quot;: &quot;INVALID_API_KEY&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (403, Forbidden - Taxpayer not accessible):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;You do not have access to this taxpayer&quot;,
    &quot;code&quot;: &quot;TAXPAYER_ACCESS_DENIED&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Not Found - Taxpayer does not exist):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Taxpayer not found&quot;,
    &quot;code&quot;: &quot;TAXPAYER_NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Validation Error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;start_date&quot;: [
            &quot;The start date field must be a valid date in YYYY-MM-DD format.&quot;
        ],
        &quot;category_type&quot;: [
            &quot;Invalid category type. Must be one of: commercial_expenses, personal_expenses, non_deductible_expenses.&quot;
        ]
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (500, Server Error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;An error occurred while retrieving accumulated totals&quot;,
    &quot;code&quot;: &quot;SERVER_ERROR&quot;
}</code>
 </pre>
    </span>
<span id="execution-results-GETapi-v1-taxpayers--taxNumber--received-accumulated" hidden>
    <blockquote>Received response<span
                id="execution-response-status-GETapi-v1-taxpayers--taxNumber--received-accumulated"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-GETapi-v1-taxpayers--taxNumber--received-accumulated"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-GETapi-v1-taxpayers--taxNumber--received-accumulated" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-GETapi-v1-taxpayers--taxNumber--received-accumulated">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-GETapi-v1-taxpayers--taxNumber--received-accumulated" data-method="GET"
      data-path="api/v1/taxpayers/{taxNumber}/received/accumulated"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('GETapi-v1-taxpayers--taxNumber--received-accumulated', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-GETapi-v1-taxpayers--taxNumber--received-accumulated"
                    onclick="tryItOut('GETapi-v1-taxpayers--taxNumber--received-accumulated');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-GETapi-v1-taxpayers--taxNumber--received-accumulated"
                    onclick="cancelTryOut('GETapi-v1-taxpayers--taxNumber--received-accumulated');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-GETapi-v1-taxpayers--taxNumber--received-accumulated"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-green">GET</small>
            <b><code>api/v1/taxpayers/{taxNumber}/received/accumulated</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>Query Parameters</b></h4>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>start_date</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="start_date"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
               value=""
               data-component="query">
    <br>
<p>Start date for filtering (YYYY-MM-DD). Defaults to first day of current month.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>end_date</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="end_date"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
               value=""
               data-component="query">
    <br>
<p>End date for filtering (YYYY-MM-DD). Defaults to last day of current month.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>category_id[]</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="category_id.0"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
               value=""
               data-component="query">
    <br>
<p>Filter by category ID(s). Can pass multiple values using array notation. To obtain available category IDs for the taxpayer, use GET /api/v1/taxpayers/{taxNumber}/categories.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>category_type</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="category_type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
               value=""
               data-component="query">
    <br>
<p>Filter by expense type. Must be one of: commercial_expenses, personal_expenses, non_deductible_expenses.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>deductible_type</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="deductible_type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
               value=""
               data-component="query">
    <br>
<p>Filter by tax deductibility. Must be one of: deductible, non_deductible.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>status</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="status"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
               value=""
               data-component="query">
    <br>
<p>Filter by document status. Must be one of: AUTORIZADO, ANULADO.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>search</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="search"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
               value=""
               data-component="query">
    <br>
<p>Search in provider name, document number, access key, RUC, email, or phone.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>uncategorized</code></b>&nbsp;&nbsp;
<small>boolean</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <label data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated" style="display: none">
            <input type="radio" name="uncategorized"
                   value="1"
                   data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
                   data-component="query"             >
            <code>true</code>
        </label>
        <label data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated" style="display: none">
            <input type="radio" name="uncategorized"
                   value="0"
                   data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
                   data-component="query"             >
            <code>false</code>
        </label>
    <br>
<p>Filter only uncategorized documents.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>origin</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="origin"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-accumulated"
               value=""
               data-component="query">
    <br>
<p>Filter by document origin/source system. Must be one of: tws, xml-import, physical-upload.</p>
            </div>
                </form>

                    <h2 id="received-documents-GETapi-v1-taxpayers--taxNumber--received-count">Get count of all received documents types</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Retrieves document counts across all received document types (purchases, credit notes, withholdings)
for a specific taxpayer and time period.</p>
<p>This endpoint aggregates data from three tables:</p>
<ul>
<li><strong>bills</strong>: Purchase invoices (Facturas de Compra)</li>
<li><strong>purchase_credit_notes</strong>: Credit notes applied to purchases (Notas de Cr√©dito)</li>
<li><strong>purchase_withholdings</strong>: Withholding documents (Retenciones)</li>
</ul>
<p><strong>IMPORTANT:</strong> This is a GET request. All parameters must be sent as query string parameters in the URL.
Do NOT send a request body.</p>
<p><strong>Default Behavior:</strong></p>
<ul>
<li>If no date range is specified, returns counts for the current month</li>
<li>Only counts documents that belong to the authenticated taxpayer and team</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Dashboard statistics showing total documents received</li>
<li>Monthly/period document volume analysis</li>
<li>Document type distribution reports</li>
<li>Compliance verification (ensuring all document types are being processed)</li>
</ul>
<p><strong>Example URLs:</strong></p>
<p>Get counts for current month:</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received/count</code></pre>
<p>Get counts for specific period:</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received/count?start_date=2024-01-01&amp;end_date=2024-01-31</code></pre>
<p>Get counts for entire year:</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received/count?start_date=2024-01-01&amp;end_date=2024-12-31</code></pre>

<span id="example-requests-GETapi-v1-taxpayers--taxNumber--received-count">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request GET \
    --get "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received/count" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}"</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received/count"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

fetch(url, {
    method: "GET",
    headers,
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received/count';
$response = $client-&gt;get(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received/count'
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('GET', url, headers=headers)
response.json()</code></pre></div>

</span>

<span id="example-responses-GETapi-v1-taxpayers--taxNumber--received-count">
            <blockquote>
            <p>Example response (200, Success - Current month):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Received documents count retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;counts&quot;: {
            &quot;invoices&quot;: 45,
            &quot;credit_notes&quot;: 3,
            &quot;withholdings&quot;: 12,
            &quot;total&quot;: 60
        },
        &quot;period&quot;: {
            &quot;start_date&quot;: &quot;2024-12-01&quot;,
            &quot;end_date&quot;: &quot;2024-12-31&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (200, Success - Custom period):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Received documents count retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;counts&quot;: {
            &quot;invoices&quot;: 150,
            &quot;credit_notes&quot;: 8,
            &quot;withholdings&quot;: 45,
            &quot;total&quot;: 203
        },
        &quot;period&quot;: {
            &quot;start_date&quot;: &quot;2024-01-01&quot;,
            &quot;end_date&quot;: &quot;2024-03-31&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (200, Success - No documents):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Received documents count retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;counts&quot;: {
            &quot;invoices&quot;: 0,
            &quot;credit_notes&quot;: 0,
            &quot;withholdings&quot;: 0,
            &quot;total&quot;: 0
        },
        &quot;period&quot;: {
            &quot;start_date&quot;: &quot;2024-12-01&quot;,
            &quot;end_date&quot;: &quot;2024-12-31&quot;
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (401, Unauthorized - Invalid API Key):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Invalid API key&quot;,
    &quot;code&quot;: &quot;INVALID_API_KEY&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (403, Forbidden - Taxpayer not accessible):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;You do not have access to this taxpayer&quot;,
    &quot;code&quot;: &quot;TAXPAYER_ACCESS_DENIED&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Not Found - Taxpayer does not exist):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Taxpayer not found&quot;,
    &quot;code&quot;: &quot;TAXPAYER_NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Validation Error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;start_date&quot;: [
            &quot;The start date field must be a valid date in YYYY-MM-DD format.&quot;
        ],
        &quot;end_date&quot;: [
            &quot;The end date must be equal to or after the start date.&quot;
        ]
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (500, Server Error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;An error occurred while retrieving document counts&quot;,
    &quot;code&quot;: &quot;SERVER_ERROR&quot;
}</code>
 </pre>
    </span>
<span id="execution-results-GETapi-v1-taxpayers--taxNumber--received-count" hidden>
    <blockquote>Received response<span
                id="execution-response-status-GETapi-v1-taxpayers--taxNumber--received-count"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-GETapi-v1-taxpayers--taxNumber--received-count"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-GETapi-v1-taxpayers--taxNumber--received-count" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-GETapi-v1-taxpayers--taxNumber--received-count">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-GETapi-v1-taxpayers--taxNumber--received-count" data-method="GET"
      data-path="api/v1/taxpayers/{taxNumber}/received/count"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('GETapi-v1-taxpayers--taxNumber--received-count', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-GETapi-v1-taxpayers--taxNumber--received-count"
                    onclick="tryItOut('GETapi-v1-taxpayers--taxNumber--received-count');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-GETapi-v1-taxpayers--taxNumber--received-count"
                    onclick="cancelTryOut('GETapi-v1-taxpayers--taxNumber--received-count');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-GETapi-v1-taxpayers--taxNumber--received-count"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-green">GET</small>
            <b><code>api/v1/taxpayers/{taxNumber}/received/count</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="GETapi-v1-taxpayers--taxNumber--received-count"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-count"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-count"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-count"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-count"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>Query Parameters</b></h4>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>start_date</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="start_date"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-count"
               value=""
               data-component="query">
    <br>
<p>Start date for counting (YYYY-MM-DD). Defaults to first day of current month.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>end_date</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="end_date"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-count"
               value=""
               data-component="query">
    <br>
<p>End date for counting (YYYY-MM-DD). Defaults to last day of current month.</p>
            </div>
                </form>

                    <h2 id="received-documents-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals">Get accumulated totals for a specific supplier (Provider)</h2>

<p>
<small class="badge badge-darkred">requires authentication</small>
</p>

<p>Retrieves aggregated totals and statistics for received documents from a specific supplier (provider).
This endpoint filters all documents by the supplier's tax number and applies additional filters.</p>
<p><strong>IMPORTANT:</strong> This is a GET request. All parameters must be sent as query string parameters in the URL.
Do NOT send a request body.</p>
<p><strong>What This Endpoint Returns:</strong></p>
<ul>
<li><strong>Subtotals by VAT rate</strong>: Detailed breakdown of subtotals for each VAT rate</li>
<li><strong>VAT amounts</strong>: Total VAT collected at each rate</li>
<li><strong>Discounts</strong>: Discounts applied at each VAT rate</li>
<li><strong>Header totals</strong>: Simplified totals (subtotal, taxes, total)</li>
<li><strong>Document counts</strong>: Total documents, categorized, uncategorized, voided</li>
<li><strong>Applied filters</strong>: Summary of which filters were used (including supplier filter)</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Analyze spending with a specific supplier</li>
<li>Supplier performance reports</li>
<li>Validate supplier invoices and totals</li>
<li>Tax deduction analysis per supplier</li>
<li>Supplier comparison reports</li>
</ul>
<p><strong>Example URLs:</strong></p>
<p>Get totals for specific supplier (current month):</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received/suppliers/1790000000001/totals</code></pre>
<p>Get totals for specific supplier and date range:</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received/suppliers/1790000000001/totals?start_date=2024-01-01&amp;end_date=2024-12-31</code></pre>
<p>Get commercial expenses totals from specific supplier:</p>
<pre><code>GET /api/v1/taxpayers/1726051285001/received/suppliers/1790000000001/totals?category_type=commercial_expenses&amp;deductible_type=deductible</code></pre>
<p><strong>Filters:</strong></p>
<p>This endpoint accepts the <strong>same filters</strong> as <code>/received/accumulated</code>:</p>
<ul>
<li><code>start_date</code>, <code>end_date</code>: Date range (defaults to current month)</li>
<li><code>category_id[]</code>: Specific category IDs (array)</li>
<li><code>category_type</code>: Expense type (commercial_expenses, personal_expenses, non_deductible_expenses)</li>
<li><code>deductible_type</code>: Tax deductibility (deductible, non_deductible)</li>
<li><code>status</code>: Document status (AUTORIZADO, ANULADO)</li>
<li><code>search</code>: Search in document details</li>
<li><code>uncategorized</code>: Only uncategorized documents (true/false)</li>
<li><code>origin</code>: Document origin (electronic, physical)</li>
</ul>
<p><strong>Plus:</strong> Automatically filters by <code>contact_tax_number</code> from URL parameter</p>

<span id="example-requests-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals">
<blockquote>Example request:</blockquote>


<div class="bash-example">
    <pre><code class="language-bash">curl --request GET \
    --get "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received/suppliers/1790000000001/totals" \
    --header "x-api-key: YOUR_API_KEY_HERE" \
    --header "Content-Type: application/json" \
    --header "Accept: application/json" \
    --header "x-organization-id: {YOUR_ORGANIZATION_ID}"</code></pre></div>


<div class="javascript-example">
    <pre><code class="language-javascript">const url = new URL(
    "https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received/suppliers/1790000000001/totals"
);

const headers = {
    "x-api-key": "YOUR_API_KEY_HERE",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "x-organization-id": "{YOUR_ORGANIZATION_ID}",
};

fetch(url, {
    method: "GET",
    headers,
}).then(response =&gt; response.json());</code></pre></div>


<div class="php-example">
    <pre><code class="language-php">$client = new \GuzzleHttp\Client();
$url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received/suppliers/1790000000001/totals';
$response = $client-&gt;get(
    $url,
    [
        'headers' =&gt; [
            'x-api-key' =&gt; 'YOUR_API_KEY_HERE',
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
            'x-organization-id' =&gt; '{YOUR_ORGANIZATION_ID}',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre></div>


<div class="python-example">
    <pre><code class="language-python">import requests
import json

url = 'https://ec-demo.taxo.co/api/v1/taxpayers/1726051285001/received/suppliers/1790000000001/totals'
headers = {
  'x-api-key': 'YOUR_API_KEY_HERE',
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'x-organization-id': '{YOUR_ORGANIZATION_ID}'
}

response = requests.request('GET', url, headers=headers)
response.json()</code></pre></div>

</span>

<span id="example-responses-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals">
            <blockquote>
            <p>Example response (200, Success - Supplier totals):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Supplier totals retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;totals&quot;: {
            &quot;subtotal_vat_fifteen_sum&quot;: 1250.5,
            &quot;vat_fifteen_sum&quot;: 187.58,
            &quot;sub_total_sum&quot;: 1250.5,
            &quot;total_sum&quot;: 1438.08,
            &quot;subtotal_header&quot;: 1250.5,
            &quot;taxes_header&quot;: 187.58,
            &quot;total_header&quot;: 1438.08,
            &quot;document_count&quot;: 12,
            &quot;categorized_document_count&quot;: 12,
            &quot;uncategorized_document_count&quot;: 0,
            &quot;voided_document_count&quot;: 0
        }
    },
    &quot;meta&quot;: {
        &quot;filters_applied&quot;: {
            &quot;date_range&quot;: {
                &quot;start_date&quot;: &quot;2024-12-01&quot;,
                &quot;end_date&quot;: &quot;2024-12-31&quot;
            },
            &quot;supplier&quot;: {
                &quot;contact_tax_number&quot;: &quot;1790000000001&quot;
            }
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (200, Success - No documents from supplier):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;Supplier totals retrieved successfully&quot;,
    &quot;data&quot;: {
        &quot;totals&quot;: {
            &quot;subtotal_header&quot;: 0,
            &quot;taxes_header&quot;: 0,
            &quot;total_header&quot;: 0,
            &quot;document_count&quot;: 0,
            &quot;categorized_document_count&quot;: 0,
            &quot;uncategorized_document_count&quot;: 0,
            &quot;voided_document_count&quot;: 0
        }
    },
    &quot;meta&quot;: {
        &quot;filters_applied&quot;: {
            &quot;date_range&quot;: {
                &quot;start_date&quot;: &quot;2024-12-01&quot;,
                &quot;end_date&quot;: &quot;2024-12-31&quot;
            },
            &quot;supplier&quot;: {
                &quot;contact_tax_number&quot;: &quot;1790000000001&quot;
            }
        }
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (401, Unauthorized - Invalid API Key):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Invalid API key&quot;,
    &quot;code&quot;: &quot;INVALID_API_KEY&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (403, Forbidden - Taxpayer not accessible):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;You do not have access to this taxpayer&quot;,
    &quot;code&quot;: &quot;TAXPAYER_ACCESS_DENIED&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (404, Not Found - Taxpayer does not exist):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Taxpayer not found&quot;,
    &quot;code&quot;: &quot;TAXPAYER_NOT_FOUND&quot;
}</code>
 </pre>
            <blockquote>
            <p>Example response (422, Validation Error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;Validation failed&quot;,
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;errors&quot;: {
        &quot;start_date&quot;: [
            &quot;The start date field must be a valid date in YYYY-MM-DD format.&quot;
        ],
        &quot;category_type&quot;: [
            &quot;Invalid category type.&quot;
        ]
    }
}</code>
 </pre>
            <blockquote>
            <p>Example response (500, Server Error):</p>
        </blockquote>
                <pre>

<code class="language-json" style="max-height: 300px;">{
    &quot;status&quot;: &quot;error&quot;,
    &quot;message&quot;: &quot;An error occurred while retrieving supplier totals&quot;,
    &quot;code&quot;: &quot;SERVER_ERROR&quot;
}</code>
 </pre>
    </span>
<span id="execution-results-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals" hidden>
    <blockquote>Received response<span
                id="execution-response-status-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"></span>:
    </blockquote>
    <pre class="json"><code id="execution-response-content-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
      data-empty-response-text="<Empty response>" style="max-height: 400px;"></code></pre>
</span>
<span id="execution-error-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals" hidden>
    <blockquote>Request failed with error:</blockquote>
    <pre><code id="execution-error-message-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals">

Tip: Check that you&#039;re properly connected to the network.
If you&#039;re a maintainer of ths API, verify that your API is running and you&#039;ve enabled CORS.
You can check the Dev Tools console for debugging information.</code></pre>
</span>
<form id="form-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals" data-method="GET"
      data-path="api/v1/taxpayers/{taxNumber}/received/suppliers/{contactTaxNumber}/totals"
      data-authed="1"
      data-hasfiles="0"
      data-isarraybody="0"
      autocomplete="off"
      onsubmit="event.preventDefault(); executeTryOut('GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals', this);">
    <h3>
        Request&nbsp;&nbsp;&nbsp;
                    <button type="button"
                    style="background-color: #8fbcd4; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-tryout-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
                    onclick="tryItOut('GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals');">Try it out ‚ö°
            </button>
            <button type="button"
                    style="background-color: #c97a7e; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-canceltryout-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
                    onclick="cancelTryOut('GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals');" hidden>Cancel üõë
            </button>&nbsp;&nbsp;
            <button type="submit"
                    style="background-color: #6ac174; padding: 5px 10px; border-radius: 5px; border-width: thin;"
                    id="btn-executetryout-GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
                    data-initial-text="Send Request üí•"
                    data-loading-text="‚è± Sending..."
                    hidden>Send Request üí•
            </button>
            </h3>
            <p>
            <small class="badge badge-green">GET</small>
            <b><code>api/v1/taxpayers/{taxNumber}/received/suppliers/{contactTaxNumber}/totals</code></b>
        </p>
                <h4 class="fancy-heading-panel"><b>Headers</b></h4>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-api-key</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-api-key" class="auth-value"               data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value="YOUR_API_KEY_HERE"
               data-component="header">
    <br>
<p>Example: <code>YOUR_API_KEY_HERE</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Content-Type</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Content-Type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>Accept</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="Accept"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value="application/json"
               data-component="header">
    <br>
<p>Example: <code>application/json</code></p>
            </div>
                                <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>x-organization-id</code></b>&nbsp;&nbsp;
&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="x-organization-id"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value="{YOUR_ORGANIZATION_ID}"
               data-component="header">
    <br>
<p>Example: <code>{YOUR_ORGANIZATION_ID}</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>URL Parameters</b></h4>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>taxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="taxNumber"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value="1726051285001"
               data-component="url">
    <br>
<p>The taxpayer's RUC number (13 digits). Example: <code>1726051285001</code></p>
            </div>
                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>contactTaxNumber</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
 &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="contactTaxNumber"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value="1790000000001"
               data-component="url">
    <br>
<p>The supplier's tax number (RUC/CI). Example: <code>1790000000001</code></p>
            </div>
                        <h4 class="fancy-heading-panel"><b>Query Parameters</b></h4>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>start_date</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="start_date"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value=""
               data-component="query">
    <br>
<p>Start date for filtering (YYYY-MM-DD). Defaults to first day of current month.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>end_date</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="end_date"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value=""
               data-component="query">
    <br>
<p>End date for filtering (YYYY-MM-DD). Defaults to last day of current month.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>category_id[]</code></b>&nbsp;&nbsp;
<small>integer</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="number" style="display: none"
               step="any"               name="category_id.0"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value=""
               data-component="query">
    <br>
<p>Filter by category ID(s). Can pass multiple values. To obtain available category IDs, use GET /api/v1/taxpayers/{taxNumber}/categories.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>category_type</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="category_type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value=""
               data-component="query">
    <br>
<p>Filter by expense type. Must be one of: commercial_expenses, personal_expenses, non_deductible_expenses.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>deductible_type</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="deductible_type"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value=""
               data-component="query">
    <br>
<p>Filter by tax deductibility. Must be one of: deductible, non_deductible.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>status</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="status"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value=""
               data-component="query">
    <br>
<p>Filter by document status. Must be one of: AUTORIZADO, ANULADO.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>search</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="search"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value=""
               data-component="query">
    <br>
<p>Search in provider name, document number, access key, etc.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>uncategorized</code></b>&nbsp;&nbsp;
<small>boolean</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <label data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals" style="display: none">
            <input type="radio" name="uncategorized"
                   value="1"
                   data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
                   data-component="query"             >
            <code>true</code>
        </label>
        <label data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals" style="display: none">
            <input type="radio" name="uncategorized"
                   value="0"
                   data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
                   data-component="query"             >
            <code>false</code>
        </label>
    <br>
<p>Filter only uncategorized documents.</p>
            </div>
                                    <div style="padding-left: 28px; clear: unset;">
                <b style="line-height: 2;"><code>origin</code></b>&nbsp;&nbsp;
<small>string</small>&nbsp;
<i>optional</i> &nbsp;
 &nbsp;
                <input type="text" style="display: none"
                              name="origin"                data-endpoint="GETapi-v1-taxpayers--taxNumber--received-suppliers--contactTaxNumber--totals"
               value=""
               data-component="query">
    <br>
<p>Filter by document origin/source system. Must be one of: tws, xml-import, physical-upload.</p>
            </div>
                </form>

            

        
    </div>
    <div class="dark-box">
                    <div class="lang-selector">
                                                        <button type="button" class="lang-button" data-language-name="bash">bash</button>
                                                        <button type="button" class="lang-button" data-language-name="javascript">javascript</button>
                                                        <button type="button" class="lang-button" data-language-name="php">php</button>
                                                        <button type="button" class="lang-button" data-language-name="python">python</button>
                            </div>
            </div>
</div>
</body>
</html>
